
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   
      <title>HTTP Framework for Time-Based Access to Resource States -- Memento</title><style type="text/css" title="Xml2Rfc (sans serif)">

a {

  text-decoration: none

}

a:hover {

  text-decoration: underline

}

a:active {

  text-decoration: underline

}

body {

  

  color: #000000;

  font-family: helvetica, arial, sans-serif;

  font-size: 13px;

}

dl {

  margin-left: 2em;

}

h1 {

  color: #333333;

  font-size: 16px;

  line-height: 16px;

  font-family: helvetica, arial, sans-serif;

  page-break-after: avoid;

}

h1.np {

  page-break-before: always;

}

h2 {

  color: #000000;

  font-size: 14px;

  font-family: helvetica, arial, sans-serif;

  page-break-after: avoid;

}

h3 {

  color: #000000;

  font-size: 13px;

  font-family: helvetica, arial, sans-serif;

  page-break-after: avoid;

}

img {

  margin-left: 3em;

}

li {

  margin-left: 2em;

  margin-right: 2em;

}

ol {

  margin-left: 2em;

  margin-right: 2em;

}

p {

  margin-left: 2em;

  margin-right: 2em;

}

pre {

  margin-left: 3em;

  background-color: lightyellow;

}

table {

  margin-left: 2em;

}

table.header {

  width: 66%;

}

td.top {

  vertical-align: top;

}

td.topnowrap {

  vertical-align: top;

  white-space: nowrap; 

}

td.right {

  text-align: right;

}

td.header-l {

  width: 33%;

  color: #ffffff;

  background-color: #666666;

  font-size: 10px;

  font-family: arial, helvetica, sans-serif;

  vertical-align: top

}

td.header-r {

  width: 33%;

  color: #ffffff;

  background-color: #666666;

  font-size: 10px;

  font-family: arial, helvetica, sans-serif;

  vertical-align: top;

}

thead {

  display:table-header-group

}

.editingmark {

  background-color: khaki;

}

.error {

  font-size: 14pt;

  background-color: red;

}

.hotText {

  color:#ffffff;

  font-weight: normal;

  text-decoration: none;

  font-family: chelvetica, arial, sans-serif;

  font-size: 9px

}

.link2 {

  color:#ffffff;

  font-weight: bold;

  text-decoration: none;

  font-family: helvetica, arial, sans-serif;

  font-size: 9px

}

.toowide {

  color: red;

  font-weight: bold;

}

.RFC {

  color:#666666;

  font-weight: bold;

  text-decoration: none;

  font-family: helvetica, arial, sans-serif;

  font-size: 9px

}

.title {

  color: #990000;

  font-size: 22px;

  line-height: 22px;

  font-weight: bold;

  text-align: right;

  font-family: helvetica, arial, sans-serif

}

.figure {

  font-weight: bold;

  text-align: center;

  font-size: 12px;

}

.filename {

  color: #333333;

  font-weight: bold;

  font-size: 16px;

  line-height: 24px;

  font-family: helvetica, arial, sans-serif;

  text-align: right;

}

.warning {

  font-size: 14pt;

  background-color: yellow;

}

del {

  color: red;

  text-decoration: line-through;

}

.del {

  color: red;

  text-decoration: line-through;

}

ins {

  color: green;

  text-decoration: underline;

}

.ins {

  color: green;

  text-decoration: underline;

}



table.openissue {

  background-color: khaki;

  border-width: thin;

  border-style: solid;

  border-color: black;

}



table.closedissue {

  background-color: white;

  border-width: thin;

  border-style: solid;

  border-color: gray;

  color: gray; 

}



.closed-issue {

  border: solid;

  border-width: thin;

  background-color: lime;

  font-size: small;

  font-weight: bold;

}



.open-issue {

  border: solid;

  border-width: thin;

  background-color: red;

  font-size: small;

  font-weight: bold;

}



.editor-issue {

  border: solid;

  border-width: thin;

  background-color: yellow;

  font-size: small;

  font-weight: bold;

}



@media print {

  .noprint {

    display: none;

  }

}

</style><link rel="Contents" href="#rfc.toc">
      <link rel="Author" href="#rfc.authors">
      <link rel="Copyright" href="#rfc.copyright">
      <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
      <link rel="Chapter" title="2 HTTP Headers, Link Relation Types" href="#rfc.section.2">
      <link rel="Chapter" title="3 Overview of the Memento Framework" href="#rfc.section.3">
      <link rel="Chapter" title="4 Datetime Negotiation: HTTP Interactions" href="#rfc.section.4">
      <link rel="Chapter" title="5 TimeMaps: Content and Serialization" href="#rfc.section.5">
      <link rel="Chapter" title="6 IANA Considerations" href="#rfc.section.6">
      <link rel="Chapter" title="7 Security Considerations" href="#rfc.section.7">
      <link rel="Chapter" title="8 Acknowledgements" href="#rfc.section.8">
      <link rel="Appendix" title="A Use of Headers and Relation Types per Pattern" href="#rfc.section.A">
      <link rel="Alternate" title="Authorative ASCII version" href="http://www.ietf.org/rfc/rfc7089">
      <meta name="generator" content="http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.149, 2004/04/01 16:36:02, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/">
      <meta name="keywords" content="HTTP, content negotiation, datetime negotiation, resource versions, archival resources, Memento">
      <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
      <meta name="DC.Creator" content="Van de Sompel, H.">
      <meta name="DC.Creator" content="Nelson, M.L.">
      <meta name="DC.Creator" content="Sanderson, R.D.">
      <meta name="DC.Identifier" content="urn:ietf:rfc:7089">
      <meta name="DC.Date.Issued" scheme="ISO8601" content="2013-12">
      <meta name="DC.Description.Abstract" content="The HTTP-based Memento framework bridges the present and past Web. It facilitates obtaining representations of prior states of a given resource by introducing datetime negotiation and TimeMaps. Datetime negotiation is a variation on content negotiation that leverages the given resource's URI and a user agent's preferred datetime. TimeMaps are lists that enumerate URIs of resources that encapsulate prior states of the given resource. The framework also facilitates recognizing a resource that encapsulates a frozen prior state of another resource.">
   </head>
   <body>
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #000000; text-align: center; vertical-align: middle; height: 2.5em;"><b><span class="RFC">&nbsp;RFC&nbsp;</span></b><br><span class="hotText">7089</span></td>
         </tr>
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <table summary="header information" class="header" border="0" cellpadding="1" cellspacing="1">
         <tr>
            <td class="header-l">Independent Submission&nbsp;</td>
            <td class="header-r">H. Van de Sompel&nbsp;</td>
         </tr>
         <tr>
            <td class="header-l">Request for Comments: 7089&nbsp;</td>
            <td class="header-r">Los Alamos National Laboratory&nbsp;</td>
         </tr>
         <tr>
            <td class="header-l">
               
               Category:
               
               Informational&nbsp;
            </td>
            <td class="header-r">M.L. Nelson&nbsp;</td>
         </tr>
         <tr>
            <td class="header-l">ISSN: 2070-1721&nbsp;</td>
            <td class="header-r">Old Dominion University&nbsp;</td>
         </tr>
         <tr>
            <td class="header-l">&nbsp;</td>
            <td class="header-r">R.D. Sanderson&nbsp;</td>
         </tr>
         <tr>
            <td class="header-l">&nbsp;</td>
            <td class="header-r">Los Alamos National Laboratory&nbsp;</td>
         </tr>
         <tr>
            <td class="header-l">&nbsp;</td>
            <td class="header-r">December 2013&nbsp;</td>
         </tr>
      </table>
      

      
                 <p class="title">HTTP Framework for Time-Based Access to Resource States -- Memento</p>
      
                 <h1><a name="rfc.abstract"></a>Abstract
      </h1>
     
     <p>
           The HTTP-based Memento framework bridges the present and past
           Web.  It facilitates obtaining representations of prior states of a
           given resource by introducing datetime negotiation and
           TimeMaps. Datetime negotiation is a variation on content negotiation
           that leverages the given resource's URI and a user agent's preferred
           datetime.  TimeMaps are lists that enumerate URIs of resources that
           encapsulate prior states of the given resource.  The framework also
           facilitates recognizing a resource that encapsulates a frozen prior
           state of another resource.
         
      </p>

      <h1><a name="rfc.status">Status of this Memo</a></h1>

      <p>
         
   This document is not an Internet Standards Track specification; it is
   published for informational purposes.</p>

   <p>This is a contribution to the RFC Series, independently of any other
   RFC stream.  The RFC Editor has chosen to publish this document at
   its discretion and makes no statement about its value for
   implementation or deployment.  Documents approved for publication by
   the RFC Editor are not a candidate for any level of Internet
   Standard; see <a href="http://tools.ietf.org/html/rfc5741#section-2">Section 2 of RFC 5741</a>.</p>

   <p>Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7089">http://www.rfc-editor.org/info/rfc7089</a>.</p>


      <h1><a name="rfc.copyrightnotice">Copyright Notice</a></h1>
      <p>
      Copyright (c) 2013 IETF Trust and the persons identified as the
   document authors.  All rights reserved.</p>

   <p>This document is subject to <a href="http://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.</p>
   

      
      
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #000000; text-align: center; vertical-align: middle; height: 2.5em;"><b><span class="RFC">&nbsp;RFC&nbsp;</span></b><br><span class="hotText">7089</span></td>
         </tr>
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1 class="np"><a name="rfc.toc">Table of Contents</a></h1>
      <p>
         
         <b>1&nbsp;
            
            <a href="#rfc.section.1">Introduction</a></b><br>
         
         <b>&nbsp;1.1&nbsp;
            
            <a href="#rfc.section.1.1">Terminology</a></b><br>
         
         
           
         
         
         
         
         
           
           <b>&nbsp;1.2&nbsp;
            
            <a href="#notation">Notational Conventions</a></b><br>
             
             
             
             
             
             
             
           
         
         <b>&nbsp;1.3&nbsp;
            
            <a href="#rfc.section.1.3">Purpose</a></b><br>
         
         
         
         
         
           
           
           
         
           
           
           
         
         
           
           
         
         
           
           
           
           
           
         
              
         
           
           
           
         
         
           
         
           
           
         <b>2&nbsp;
            
            <a href="#component-1.1">HTTP Headers, Link Relation Types</a></b><br>
         
           
         
         <b>&nbsp;2.1&nbsp;
            
            <a href="#HTTP_Headers">HTTP Headers</a></b><br>
         
         
         
         <b>&nbsp;&nbsp;2.1.1&nbsp;
            
            <a href="#Accept-Memento-Datetime">Accept-Datetime and Memento-Datetime</a></b><br>
         
         
           
           
           
           
         
         
         
         
           
           
           
           
         
              
           
         
           
           
           
             
         
         
           <b>&nbsp;&nbsp;2.1.2&nbsp;
            
            <a href="#rfc.section.2.1.2">Vary</a></b><br>
             
               
             
             
             
             
             
             
             
             
             
           
           
           <b>&nbsp;&nbsp;2.1.3&nbsp;
            
            <a href="#rfc.section.2.1.3">Link</a></b><br>
             
             
             
           
         
         
         
         <b>&nbsp;2.2&nbsp;
            
            <a href="#Link-Header-Relation-Types">Link Relation Types</a></b><br>
         
         
              
           <b>&nbsp;&nbsp;2.2.1&nbsp;
            
            <a href="#rfc.section.2.2.1">Link Relation Type "original"</a></b><br>
             
             
             
             
           
             
           
         
         <b>&nbsp;&nbsp;2.2.2&nbsp;
            
            <a href="#rfc.section.2.2.2">Link Relation Type "timegate"</a></b><br>
         
         
           
         
         
         
         
         <b>&nbsp;&nbsp;2.2.3&nbsp;
            
            <a href="#rfc.section.2.2.3">Link Relation Type "timemap"</a></b><br>
         
         
           
           
           
           
           
           
         
         
         <b>&nbsp;&nbsp;2.2.4&nbsp;
            
            <a href="#memento-rel">Link Relation Type "memento"</a></b><br>
         
         
           
           
           
           
           
           
           
           
         
           
           
          
         
           
           <b>3&nbsp;
            
            <a href="#overview">Overview of the Memento Framework</a></b><br> 
             
             
             
             
           
           <b>&nbsp;3.1&nbsp;
            
            <a href="#overview-datetime-conneg">Datetime Negotiation</a></b><br>
             
             
             
             
                
             
             
             
             
             
             
             
             
             
             
             
             
             
             
              
           
             
             <b>&nbsp;3.2&nbsp;
            
            <a href="#overview-timemaps">TimeMaps</a></b><br>
               
               
               
               
                  
               
               
               
               
               
               
             
             
         
         
           <b>4&nbsp;
            
            <a href="#component-1.2">Datetime Negotiation: HTTP Interactions</a></b><br>
            
             
             
             
             
             
             
             
             
             
             
             
             <b>&nbsp;4.1&nbsp;
            
            <a href="#Pattern1">Pattern 1 - The Original Resource Acts as Its Own TimeGate</a></b><br>
               
               
               
               
               
                 
              
         
         
               <b>&nbsp;&nbsp;4.1.1&nbsp;
            
            <a href="#Pattern1.1">Pattern 1.1 - URI-R=URI-G; 302-Style Negotiation; Distinct URI-M</a></b><br>
                 
                   
                   
                 
                 
                 
                    
                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
                  
                 
               
               
               <b>&nbsp;&nbsp;4.1.2&nbsp;
            
            <a href="#Pattern1.2">Pattern 1.2 - URI-R=URI-G; 200-Style Negotiation; Distinct URI-M</a></b><br>
                 
                 
                 
                 
                 
                 
                 
                 
                 
                  
                 
                 
               
               
               <b>&nbsp;&nbsp;4.1.3&nbsp;
            
            <a href="#Pattern1.3">Pattern 1.3 - URI-R=URI-G; 200-Style Negotiation; No Distinct URI-M</a></b><br>
                 
                 
                 
                 
                 
                 
                 
                 
                 
                         
                 
               
               
             
             
             <b>&nbsp;4.2&nbsp;
            
            <a href="#Pattern2">Pattern 2 - A Remote Resource Acts as a TimeGate for the Original Resource</a></b><br>
               
               
               
               
                  
               
               
               
               
               
               
               
               
               
               
               
               
                
               
               <b>&nbsp;&nbsp;4.2.1&nbsp;
            
            <a href="#Pattern2.1">Pattern 2.1 - URI-R&lt;&gt;URI-G; 302-Style Negotiation; Distinct URI-M</a></b><br>
                 
                 
                 
                 
                 
                 
                 
                   
         
                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
                  
                 
               
               
               <b>&nbsp;&nbsp;4.2.2&nbsp;
            
            <a href="#Pattern2.2">Pattern 2.2 - URI-R&lt;&gt;URI-G; 200-Style Negotiation; Distinct URI-M</a></b><br>
                 
                 
                 
                 
                 
                 
                 
                  
                 
                  
                 
               
               
               <b>&nbsp;&nbsp;4.2.3&nbsp;
            
            <a href="#Pattern2.3">Pattern 2.3 - URI-R&lt;&gt;URI-G; 200-Style Negotiation; No Distinct URI-M</a></b><br>
                 
                 
                 
                 
                 
                 
                 
                  
                 
                  
                 
               
               
             
             
             <b>&nbsp;4.3&nbsp;
            
            <a href="#Pattern3">Pattern 3 - The Original Resource is a Fixed Resource</a></b><br>
               
               
               
               
               
               
               
               
               
               
               
                
                  
             
             
             <b>&nbsp;4.4&nbsp;
            
            <a href="#Pattern4">Pattern 4 - Mementos without a TimeGate</a></b><br>
               
               
               
               
               
               
               
               
         
               
               
               
                
         
               
         
               
               
             
             
             
          
             
             <b>&nbsp;4.5&nbsp;
            
            <a href="#SpecialCases">Special Cases</a></b><br>
               
               <b>&nbsp;&nbsp;4.5.1&nbsp;
            
            <a href="#SpecialCases-OR-nolink">Original Resource Provides No "timegate" Link</a></b><br>
               
               
               
               
               
               
               
               
               
               <b>&nbsp;&nbsp;4.5.2&nbsp;
            
            <a href="#SpecialCases-OR">Server Exists but Original Resource No Longer Does</a></b><br>
                 
                 
                 
                 
                 
               
               
               <b>&nbsp;&nbsp;4.5.3&nbsp;
            
            <a href="#SpecialCases-AD">Issues with Accept-Datetime</a></b><br>
                 
                 
                 
                 
                 
                 
                     
               
               
               
         
               
         
               
               <b>&nbsp;&nbsp;4.5.4&nbsp;
            
            <a href="#SpecialCase-M-3XX">Memento of a 3XX Response</a></b><br>
                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
               
               
               <b>&nbsp;&nbsp;4.5.5&nbsp;
            
            <a href="#SpecialCases-M-4XX">Memento of Responses with 4XX or 5XX HTTP Status Codes</a></b><br>
                 
                 
                 
                 
                 
                 
                 
                 
                 
                   
               
               <b>&nbsp;&nbsp;4.5.6&nbsp;
            
            <a href="#SpecialCases-Sticky">Sticky "Memento-Datetime" and "original" Link for Mementos</a></b><br>
              
                   
                   
                 
                 
                 
                   
                   
                   
         
                 
               
               <b>&nbsp;&nbsp;4.5.7&nbsp;
            
            <a href="#SpecialCases-Intermediate">Intermediate Resources</a></b><br>
                 
                 
                 
                 
                 
                 
                 
                 
                    
                 
                  
                 
               
               
               
               <b>&nbsp;&nbsp;4.5.8&nbsp;
            
            <a href="#SpecialCases-donotnegotiate">Resources Excluded from Datetime Negotiation</a></b><br>
                 
                 
                 
                 
                 
                 
                 
                  
                 
               
               
             
             
             
           
           
           <b>5&nbsp;
            
            <a href="#Pattern6">TimeMaps: Content and Serialization</a></b><br>
             
             
             
             
             
             
             
             
             
             
             
             
             
             
              
             
               
             
             <b>&nbsp;5.1&nbsp;
            
            <a href="#TimeMaps-SpecialCases">Special Cases</a></b><br>
             
             <b>&nbsp;&nbsp;5.1.1&nbsp;
            
            <a href="#Pattern6-IP">Index and Paging TimeMaps</a></b><br>
             
             
             
             
             
             
             
             
             
             
             
             
             
             <b>&nbsp;&nbsp;5.1.2&nbsp;
            
            <a href="#Special-TM">Mementos for TimeMaps</a></b><br>
               
               
               
               
               
               
               
                 
               
                  
               
               
             
           
           
           <b>6&nbsp;
            
            <a href="#IANA">IANA Considerations</a></b><br>
             
             <b>&nbsp;6.1&nbsp;
            
            <a href="#headers">HTTP Headers</a></b><br>
             
             
         
               
               
               
         
               
               
             
             
             
             <b>&nbsp;6.2&nbsp;
            
            <a href="#links">Link Relation Types</a></b><br>
             
             
               
               
         
               
               
               
         
         
               
         
         
               
               
             
             
           
         
         
             <b>7&nbsp;
            
            <a href="#Security">Security Considerations</a></b><br>
         
               
               
               
                 
                 
               
             
         
           <b>8&nbsp;
            
            <a href="#Acknowledgements">Acknowledgements</a></b><br>
             
             
             
           
         
         <b>&sect;&nbsp;
            
            <a href="#rfc.references">Normative References</a></b><br><b>&sect;&nbsp;
            
            <a href="#rfc.references.2">Informative References</a></b><br><b>&sect;&nbsp;
            
            <a href="#rfc.authors">Author's Addresses</a></b><br><b>A&nbsp;
            
            <a href="#Appendix">Use of Headers and Relation Types per Pattern</a></b><br>
         
          
         
         
               
               
         
         </p>
      <p><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.1">Figure 1: BNF for the Datetime Format</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.2">Figure 2: A Datetime Negotiation Request/Response Chain</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.3">Figure 3: A Request/Response Chain to Obtain a TimeMap</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.4">Figure 4: User Agent Attempts Datetime Negotiation with Original Resource</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.5">Figure 5: Response from URI-R=URI-G for Pattern 1.1</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.6">Figure 6: User Agent Requests Selected Memento</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.7">Figure 7: Response from URI-M for Pattern 1.1</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.8">Figure 8: Response from URI-R=URI-G for Pattern 1.2</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.9">Figure 9: Response from URI-R=URI-G for Pattern 1.3</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.10">Figure 10: Response from URI-R&lt;&gt;URI-G for Pattern 2</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.11">Figure 11: User Agent Engages in Datetime Negotiation with Remote TimeGate</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.12">Figure 12: Response from URI-G&lt;&gt;URI-R for Pattern 2.1</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.13">Figure 13: User Agent Requests Selected Memento</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.14">Figure 14: Response from URI-M for Pattern 2.1</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.15">Figure 15: Response from URI-G&lt;&gt;URI-R for Pattern 2.2</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.16">Figure 16: Response from URI-G&lt;&gt;URI-R for Pattern 2.3</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.17">Figure 17: Response from URI-R=URI-M for Pattern 3</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.18">Figure 18: Response from URI-M&lt;&gt;URI-R for Pattern 4</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.19">Figure 19: Response from an Original Resource That No Longer Exists</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.20">Figure 20: Response Is a Redirect</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.21">Figure 21: Response is a Memento of a Redirect; Leads to an Original Resource</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.22">Figure 22: Response is a Memento of a Redirect; Leads to a Memento</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.23">Figure 23: Response Is a 404</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.24">Figure 24: Response Is a Memento of a 404</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.25">Figure 25: Redirecting Resource Redirects to a TimeGate</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.26">Figure 26: Response to an HTTP HEAD Request from a Resource Excluded from Datetime Negotiation</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.27">Figure 27: Request for a TimeMap</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.28">Figure 28: Response from a TimeMap</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.29">Figure 29: Index TimeMap</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.30">Figure 30: Paging TimeMap</a></b><br><b>
            
            &nbsp;&nbsp;
            
            <a href="#rfc.figure.31">Figure 31: TimeMap Links to the Original Resource It Is about</a></b><br></p>
      
      
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1 class="np"><a name="rfc.section.1">1</a>&nbsp;
         
         Introduction
      </h1>
      <h2><a name="rfc.section.1.1">1.1</a>&nbsp;
         
         Terminology
      </h2>
      <div><a name="rfc.section.1.1.p.1"></a></div>
      <p>
         This specification uses the terms "resource", "request", "response",
         "entity-body", "content negotiation", "user agent", and "server" as
         described in <a href="#RFC2616" title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</a>, and it uses the terms
         "representation" and "resource state" as described
         in <a href="#W3C.REC-aww-20041215" title="Architecture of the World Wide Web">[W3C.REC-aww-20041215]</a>.
         
      </p>
      <div><a name="rfc.section.1.1.p.2"></a></div>
      <p>
           In addition, the following terms specific to the Memento framework
           are introduced:
         
      </p>
      <div><a name="rfc.section.1.1.p.3"></a></div>
      <ul>
         
           
         <li>
                Original Resource: An Original Resource is a resource that exists
                or used to exist, and for which access to one of its prior states
                may be required.
              
         </li>
           
           
         <li>
                Memento: A Memento for an Original Resource is a resource that
                encapsulates a prior state of the Original Resource.  A Memento
                for an Original Resource as it existed at time T is a resource
                that encapsulates the state the Original Resource had at time T.
              
         </li>
           
           
         <li>
                TimeGate: A TimeGate for an Original Resource is a resource that
                is capable of datetime negotiation to support access to prior
                states of the Original Resource.
              
         </li>
           
           
         <li>
                TimeMap: A TimeMap for an Original Resource is a resource from
                which a list of URIs of Mementos of the Original Resource is
                available.
              
         </li>
           
         
         
         
      </ul>
      <p> </p>
      <h2><a name="rfc.section.1.2">1.2</a>&nbsp;
         
         <a name="notation">Notational Conventions</a></h2>
      <div><a name="rfc.section.1.2.p.1"></a></div>
      <p>
               The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
               NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and
               "OPTIONAL" in this document are to be interpreted as described
               in <a href="#RFC2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>.
             
      </p>
      <div><a name="rfc.section.1.2.p.2"></a></div>
      <p>
               When needed for extra clarity, the following conventions are
               used:
             
      </p>
      <div><a name="rfc.section.1.2.p.3"></a></div>
      <ul>
               
               
         <li>URI-R is used to denote the URI of an Original Resource.</li>  
               
               
         <li>URI-G is used to denote the URI of a TimeGate.</li>  
               
               
         <li>URI-M is used to denote the URI of a Memento.</li>  
               
               
         <li>URI-T is used to denote the URI of a TimeMap.</li>  
               
             
      </ul>
      <h2><a name="rfc.section.1.3">1.3</a>&nbsp;
         
         Purpose
      </h2>
      <div><a name="rfc.section.1.3.p.1"></a></div>
      <p>
         The state of an Original Resource may change over time. Dereferencing
         its URI at any specific moment yields a response that reflects the
         resource's state at that moment: a representation of the resource's
         state (e.g., "200 OK" HTTP status code), an indication of its
         nonexistence (e.g., "404 Not Found" HTTP status code), a relation to
         another resource (e.g., "302 Found" HTTP status code), etc.  However,
         responses may also exist that reflect prior states of an Original
         Resource: a representation of a prior state of the Original Resource,
         an indication that the Original Resource did not exist at some time in
         the past, a relation that the Original Resource had to another
         resource at some time in the past, etc.  Mementos that provide such
         responses exist in Web archives, content management systems, or
         revision control systems, among others.  For any given Original
         Resource several Mementos may exist, each one reflecting a frozen
         prior state of the Original Resource.
         
      </p>
      <div><a name="rfc.section.1.3.p.2"></a></div>
      <p>Examples are:</p>
      <div><a name="rfc.section.1.3.p.3"></a></div>
      <p>Mementos for Original Resource http://www.ietf.org/ are as follows:</p>
      <div><a name="rfc.section.1.3.p.4"></a></div>
      <ul>
             
         <li>http://web.archive.org/web/19970107171109/http://www.ietf.org/</li>
             
         <li>http://webarchive.nationalarchives.gov.uk/20080906200044/http://www.ietf.org/</li>
         
      </ul>
      <div><a name="rfc.section.1.3.p.5"></a></div>
      <p>Mementos for Original Resource http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol are as follows:</p>
      <div><a name="rfc.section.1.3.p.6"></a></div>
      <ul>
             
         <li>http://en.wikipedia.org/w/index.php?title=Hypertext_Transfer_Protocol&amp;oldid=366806574</li> 
             
         <li>http://en.wikipedia.org/w/index.php?title=Hypertext_Transfer_Protocol&amp;oldid=33912</li>
             
         <li>http://web.archive.org/web/20071011153017/http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol</li>
         
      </ul>
      <div><a name="rfc.section.1.3.p.7"></a></div>
      <p>Mementos for Original Resource http://www.w3.org/TR/webarch/ are as follows:</p>
      <div><a name="rfc.section.1.3.p.8"></a></div>
      <ul>
             
         <li>http://www.w3.org/TR/2004/PR-webarch-20041105/</li>
             
         <li>http://www.w3.org/TR/2002/WD-webarch-20020830/</li>
             
         <li>http://archive.is/20120527002537/http://www.w3.org/TR/webarch/</li>
         
         
      </ul>
      <div><a name="rfc.section.1.3.p.9"></a></div>
      <p>
             In the abstract, the Memento framework introduces a mechanism to
             access versions of Web resources that:
           
      </p>
      <div><a name="rfc.section.1.3.p.10"></a></div>
      <ul>
             
             
         <li>Is fully distributed in the sense that resource versions may
                  reside on multiple servers, and that any such server is likely
                  only aware of the versions it holds;
         </li>
             
             
         <li>Uses the global notion of datetime as a resource version
                indicator and access key;
         </li>
             
             
         <li>Leverages the following primitives
                  of <a href="#W3C.REC-aww-20041215" title="Architecture of the World Wide Web">[W3C.REC-aww-20041215]</a>: resource,
                  resource state, representation, content negotiation, and
                  link.
         </li>
             
           
      </ul>
      <div><a name="rfc.section.1.3.p.11"></a></div>
      <p>The core components of Memento's mechanism to access resource
           versions are:
      </p>
      <div><a name="rfc.section.1.3.p.12"></a></div>
      <p> </p>
      <ol>
             
         <li>The abstract notion of the state of an Original Resource
                (URI-R) as it existed at datetime T.  Note the relationship with
                the ability to identify the state of a resource at datetime T by
                means of a URI as intended by the proposed Dated URI
                scheme <a href="#DATED-URI" title="The 'tdb' and 'duri' URI schemes, based on dated URIs">[DATED-URI]</a>.
                
         </li>
             
             
         <li>A "bridge" from the present to the past, consisting of:
            
                
            <ul>
                     
                     
               <li>The existence of a TimeGate (URI-G), which is aware of (at
                          least part of the) version history of the Original Resource
                          (URI-R);
               </li>
                     
                     
               <li>The ability to negotiate in the datetime dimension with that
                          TimeGate (URI-G), as a means to access the state that the
                          Original Resource (URI-R) had at datetime T.
               </li>
                     
                   
            </ul>
         </li>
          
             
             
         <li>A "bridge" from the past to the present, consisting of an
                  appropriately typed link from a Memento (URI-M), which
                  encapsulates the state the Original Resource (URI-R) had at
                  datetime T, to the Original Resource (URI-R).
                
         </li>
           
           
         <li>
                The existence of a TimeMap (URI-T) from which a list of all
                Mementos that encapsulate a prior state of the Original Resource
                (URI-R) can be obtained.
              
         </li>
         
      </ol>
      <p> </p>
      <div><a name="rfc.section.1.3.p.13"></a></div>
      <p>
             This document is concerned with specifying an instantiation of
             these abstractions for resources that are identified by HTTP(S)
             URIs.
           
      </p>
        
        
      
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1><a name="rfc.section.2">2</a>&nbsp;
         
         <a name="component-1.1">HTTP Headers, Link Relation Types</a></h1>
      <div><a name="rfc.section.2.p.1"></a></div>
      <p>
             The Memento framework is concerned with HEAD and GET interactions
             with Original Resources, TimeGates, Mementos, and TimeMaps that
             are identified by HTTP or HTTPS URIs.  Details are only provided
             for resources identified by HTTP URIs but apply similarly to those
             with HTTPS URIs.
           
      </p>
      <h2><a name="rfc.section.2.1">2.1</a>&nbsp;
         
         <a name="HTTP_Headers">HTTP Headers</a></h2>
      <div><a name="rfc.section.2.1.p.1"></a></div>
      <p>
         The Memento framework operates at the level of HTTP request and
         response headers. It introduces two new headers ("Accept-Datetime" and
         "Memento-Datetime") and introduces new values for two existing headers
         ("Vary" and "Link").  Other HTTP headers are present or absent in
         Memento response/request cycles as specified
         by <a href="#RFC2616" title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</a>.
         
      </p>
      <h3><a name="rfc.section.2.1.1">2.1.1</a>&nbsp;
         
         <a name="Accept-Memento-Datetime">Accept-Datetime and Memento-Datetime</a></h3>
      <div><a name="rfc.section.2.1.1.p.1"></a></div>
      <p>
         The "Accept-Datetime" request header is transmitted by a user agent to
         indicate it wants to access a past state of an Original Resource. To
         that end, the "Accept-Datetime" header is conveyed in an HTTP request
         issued against a TimeGate for an Original Resource, and its value
         indicates the datetime of the desired past state of the Original
         Resource.
         
      </p>
      <div><a name="rfc.section.2.1.1.p.2"></a></div>
      <p>
             Example of an "Accept-Datetime" request header:
           
      </p>
      <div><a name="rfc.figure.u.1"></a></div>
          <pre>Accept-Datetime: Thu, 31 May 2007 20:35:00 GMT
</pre>
        <div><a name="rfc.section.2.1.1.p.4"></a></div>
      <p>
         The "Memento-Datetime" response header is used by a server to indicate
         that a response reflects a prior state of an Original Resource. Its
         value expresses the datetime of that state. The URI of the Original
         Resource for which the response reflects a prior state is provided as
         the Target IRI of a link provided in the HTTP "Link" header that has a
         Relation Type of "original"
         (see <a href="#Link-Header-Relation-Types" title="Link Relation Types">Section&nbsp;2.2</a>).
         
      </p>
      <div><a name="rfc.section.2.1.1.p.5"></a></div>
      <p>
             The presence of a "Memento-Datetime" header and associated value
             for a given response constitutes a promise that the resource state
             reflected in the response will no longer change
             (see <a href="#SpecialCases-Sticky" title="Sticky &#34;Memento-Datetime&#34; and &#34;original&#34; Link for Mementos">Section&nbsp;4.5.6</a>).
         
      </p>
      <div><a name="rfc.section.2.1.1.p.6"></a></div>
      <p>
             Example of a "Memento-Datetime" response header:
           
      </p>
      <div><a name="rfc.figure.u.2"></a></div>
          <pre>Memento-Datetime: Wed, 30 May 2007 18:47:52 GMT
</pre>
        <div><a name="rfc.section.2.1.1.p.8"></a></div>
      <p>Values for the "Accept-Datetime" and "Memento-Datetime" headers
             consist of a MANDATORY datetime expressed according to the
             <a href="#RFC1123" title="Requirements for Internet Hosts - Application and Support">[RFC1123]</a> format, which is formalized by the
             rfc1123-date construction rule of the BNF
             in <a href="#datetime-BNF">Figure&nbsp;1</a>. This BNF is derived from 
               the HTTP-date construction of the BNF for Full Dates 
               provided in <a href="#RFC2616" title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</a>. The datetime is
             case sensitive with names for days and months exactly as shown in
             the wkday and month construction rules of the BNF, respectively.
             The datetime MUST be represented in Greenwich Mean Time (GMT).
         
      </p>
      <div><a name="datetime-BNF"></a></div>
      <div><a name="rfc.figure.1"></a></div>
          
          <pre>
accept-dt-value = rfc1123-date
rfc1123-date = wkday "," SP date1 SP time SP "GMT"
date1        = 2DIGIT SP month SP 4DIGIT 
                  ; day month year (e.g., 20 Mar 1957)
time         = 2DIGIT ":" 2DIGIT ":" 2DIGIT 
                  ; 00:00:00 - 23:59:59 (e.g., 14:33:22)
wkday        = "Mon" | "Tue" | "Wed" | "Thu" | "Fri" | "Sat" | 
               "Sun" 
month        = "Jan" | "Feb" | "Mar" | "Apr" | "May" | "Jun" | 
               "Jul" | "Aug" | "Sep" | "Oct" | "Nov" | "Dec"

</pre>
          
        <p class="figure">Figure 1: BNF for the Datetime Format</p>
      <h3><a name="rfc.section.2.1.2">2.1.2</a>&nbsp;
         
         Vary
      </h3>
      <div><a name="rfc.section.2.1.2.p.1"></a></div>
      <p>
               Generally, the "Vary" header is used in HTTP responses to
               indicate the dimensions in which content negotiation is
               possible. In the Memento framework, a TimeGate uses the "Vary"
               header with a value that includes "accept-datetime" to convey
               that datetime negotiation is possible.
             
      </p>
      <div><a name="rfc.section.2.1.2.p.2"></a></div>
      <p>
               For example, this use of the "Vary" header indicates that
               datetime is the only dimension in which negotiation is possible:
             
      </p>
      <div><a name="rfc.figure.u.3"></a></div>
            <pre>Vary: accept-datetime
</pre>
          <div><a name="rfc.section.2.1.2.p.4"></a></div>
      <p>
               The use of the "Vary" header in this example shows that both datetime negotiation and media type content negotiation
         are possible:
             
      </p>
      <div><a name="rfc.figure.u.4"></a></div>
            <pre>Vary: accept-datetime, accept
</pre>
          <h3><a name="rfc.section.2.1.3">2.1.3</a>&nbsp;
         
         Link
      </h3>
      <div><a name="rfc.section.2.1.3.p.1"></a></div>
      <p>
               The Memento framework defines the "original", "timegate",
               "timemap", and "memento" Relation Types to convey typed links
               among Original Resources, TimeGates, Mementos, and TimeMaps. They
               are defined in
               <a href="#Link-Header-Relation-Types" title="Link Relation Types">Section&nbsp;2.2</a>, below.  In
               addition, existing Relation Types may be used, for example, to
               support navigating among Mementos.  Examples are "first",
               "last", "prev", "next", "predecessor-version", and
               "successor-version" as detailed
               in <a href="#RFC5988" title="Web Linking">[RFC5988]</a>
               and <a href="#RFC5829" title="Link Relation Types for Simple Version Navigation between Web Resources">[RFC5829]</a>.
             
      </p>
      <h2><a name="rfc.section.2.2">2.2</a>&nbsp;
         
         <a name="Link-Header-Relation-Types">Link Relation Types</a></h2>
      <div><a name="rfc.section.2.2.p.1"></a></div>
      <p>
         This section introduces the Relation Types used in the Memento
         framework.  They are defined in a general way, and their use in HTTP
         "Link" headers <a href="#RFC5988" title="Web Linking">[RFC5988]</a> is described in detail.
         The use of these Relation Types in TimeMaps is described in
           <a href="#Pattern6" title="TimeMaps: Content and Serialization">Section&nbsp;5</a>.
      </p>
      <h3><a name="rfc.section.2.2.1">2.2.1</a>&nbsp;
         
         Link Relation Type "original"
      </h3>
      <div><a name="rfc.section.2.2.1.p.1"></a></div>
      <p>
               "original" --  A link with an "original" Relation Type is used to
               point from a TimeGate or a Memento to its associated Original Resource. 
             
      </p>
      <div><a name="rfc.section.2.2.1.p.2"></a></div>
      <p>
               Use in HTTP "Link" headers: Responses to HTTP HEAD/GET requests
               issued against a TimeGate or a Memento MUST include exactly one
               link with an "original" Relation Type in their HTTP "Link"
               header.
             
      </p>
      <h3><a name="rfc.section.2.2.2">2.2.2</a>&nbsp;
         
         Link Relation Type "timegate"
      </h3>
      <div><a name="rfc.section.2.2.2.p.1"></a></div>
      <p>
           "timegate" -- A link with a "timegate" Relation Type is used to
           point from the Original Resource, as well as from a Memento
           associated with the Original Resource, to a TimeGate for the
           Original Resource.
         
      </p>
      <div><a name="rfc.section.2.2.2.p.2"></a></div>
      <p>
           Use in HTTP "Link" headers: If there is a TimeGate associated with
           an Original Resource or Memento that is preferred for use, then
           responses to HTTP HEAD/GET requests issued against these latter
           resources MUST include a link with a "timegate" Relation Type in
           their HTTP "Link" header.  Since multiple TimeGates can exist for
           any Original Resource, multiple "timegate" links MAY occur, each
           with a distinct Target IRI.
         
      </p>
      <h3><a name="rfc.section.2.2.3">2.2.3</a>&nbsp;
         
         Link Relation Type "timemap"
      </h3>
      <div><a name="rfc.section.2.2.3.p.1"></a></div>
      <p>
           "timemap" -- A link with a "timemap" Relation Type is used to point
           from a TimeGate or a Memento associated with an Original Resource,
           as well as from the Original Resource itself, to a TimeMap for the
           Original Resource.
         
      </p>
      <div><a name="rfc.section.2.2.3.p.2"></a></div>
      <p>
             Attributes: A link with a "timemap" Relation Type SHOULD use the
             "type" attribute to convey the MIME type of the TimeMap
             serialization. 
         
         
         The "from" and "until" attributes may be used to
             express the start and end of the temporal interval covered by
             Mementos listed in the TimeMap.  That is, the linked TimeMap will
             not contain Mementos with archival datetimes outside of the
             expressed temporal interval. Attempts SHOULD be made to convey
             this interval as accurately as possible.  The value for the these
             attributes MUST be a datetime expressed according to the
             rfc1123-date construction rule of the BNF
             in <a href="#datetime-BNF">Figure&nbsp;1</a>, and it MUST be represented
             in Greenwich Mean Time (GMT).
           
      </p>
      <div><a name="rfc.section.2.2.3.p.3"></a></div>
      <p>
             Use in HTTP "Link" headers: If there is a TimeMap associated with
             an Original Resource, a TimeGate, or a Memento that is preferred
             for use, then responses to HTTP HEAD/GET requests issued against
             these latter resources MUST include a link with a "timemap"
             Relation Type in their HTTP "Link" header.  Multiple such links,
             each with a distinct Target IRI, MAY be expressed as a means to
             point to different TimeMaps or to different serializations of the
             same TimeMap.  In all cases, use of the "from" and "until"
             attributes is OPTIONAL.
           
      </p>
      <h3><a name="rfc.section.2.2.4">2.2.4</a>&nbsp;
         
         <a name="memento-rel">Link Relation Type "memento"</a></h3>
      <div><a name="rfc.section.2.2.4.p.1"></a></div>
      <p>
           "memento" -- A link with a "memento" Relation Type is used to point
           from a TimeGate or a Memento for an Original Resource, as well as
           from the Original Resource itself, to a Memento for the Original
           Resource.
         
      </p>
      <div><a name="rfc.section.2.2.4.p.2"></a></div>
      <p>
             Attributes: A link with a "memento" Relation Type MUST include a
             "datetime" attribute with a value that matches the
             "Memento-Datetime" of the Memento that is the target of the link;
             that is, the value of the "Memento-Datetime" header that is
             returned when the URI of the linked Memento is dereferenced.  The
             value for the "datetime" attribute MUST be a datetime expressed
             according to the rfc1123-date construction rule of the BNF
             in <a href="#datetime-BNF">Figure&nbsp;1</a>, and it MUST be represented
             in Greenwich Mean Time (GMT).  This link MAY include a "license"
             attribute to associate a license with the Memento; the value for
             the "license" attribute MUST be a URI.
           
      </p>
      <div><a name="rfc.section.2.2.4.p.3"></a></div>
      <p>Use in HTTP "Link" headers: Responses to HTTP HEAD/GET requests
             issued against an Original Resource, a TimeGate, and a Memento MAY
             include links in their HTTP "Link" headers with a "memento"
             Relation Type. For responses in which a Memento is selected, the
             provision of navigational links that lead to Mementos other than
             the selected one can be beneficial to the user agent. Of special
             importance are links that lead to the temporally first and last
             Memento known to the responding server, as well as links leading
             to Mementos that are temporally adjacent to the selected one.
      </p>
        
        
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1><a name="rfc.section.3">3</a>&nbsp;
         
         <a name="overview">Overview of the Memento Framework</a></h1>
      <div><a name="rfc.section.3.p.1"></a></div>
      <p>The Memento framework defines two complementary approaches to
             support obtaining representations of prior states of an Original
             Resource:
      </p>
      <div><a name="rfc.section.3.p.2"></a></div>
      <ul>
               
         <li>Datetime Negotiation: Datetime negotiation is a variation on
                    content negotiation by which a user agent expresses a datetime
                    preference pertaining to the representation of an Original
                    Resource, instead of, for example, a media type
                    preference. Based on the responding server's knowledge of the
                    past of the Original Resource, it selects a Memento of the
                    Original Resource that best meets the user agent's datetime
                    preference.  An overview is provided
                    in <a href="#overview-datetime-conneg" title="Datetime Negotiation">Section&nbsp;3.1</a>; details
                    are in <a href="#component-1.2" title="Datetime Negotiation: HTTP Interactions">Section&nbsp;4</a>.
         </li>
               
         <li>TimeMaps: A TimeMap is a resource from which a list can be
                    obtained that provides a comprehensive overview of the past of
                    an Original Resource.  A server makes a TimeMap available that
                    enumerates all Mementos that the server is aware of, along
                    with their archival datetime.  A user agent can obtain the
                    TimeMap and select Mementos from it.  An overview is provided
                    in <a href="#overview-timemaps" title="TimeMaps">Section&nbsp;3.2</a>; details are in
                    <a href="#Pattern6" title="TimeMaps: Content and Serialization">Section&nbsp;5</a>.
         </li>
               
             
      </ul>
      <h2><a name="rfc.section.3.1">3.1</a>&nbsp;
         
         <a name="overview-datetime-conneg">Datetime Negotiation</a></h2>
      <div><a name="rfc.section.3.1.p.1"></a></div>
      <p><a href="#intro-flow">Figure&nbsp;2</a> provides a schematic overview
               of a successful request/response chain that involves datetime
               negotiation. Dashed lines depict HTTP transactions between user
               agent and server.  The interactions are for a scenario where the
               Original Resource resides on one server, whereas both its
               TimeGate and Mementos reside on another
               (<a href="#Pattern2.1">Pattern 2.1</a>
               in <a href="#component-1.2" title="Datetime Negotiation: HTTP Interactions">Section&nbsp;4</a>).  Scenarios also exist
               in which all these resources are on the same server (for
               example, content management systems) or all are on different
               servers (for example, an aggregator of TimeGates).
             
      </p>
      <div><a name="intro-flow"></a></div>
      <div><a name="rfc.figure.2"></a></div>
            
            <pre>1: UA --- HTTP HEAD/GET; Accept-Datetime: T ----------------&gt; URI-R
2: UA &lt;-- HTTP 200; Link: URI-G ----------------------------- URI-R
3: UA --- HTTP HEAD/GET; Accept-Datetime: T ----------------&gt; URI-G
4: UA &lt;-- HTTP 302; Location: URI-M; Vary; Link: 
      URI-R,URI-T ------------------------------------------&gt; URI-G
5: UA --- HTTP GET URI-M; Accept-Datetime: T ---------------&gt; URI-M
6: UA &lt;-- HTTP 200; Memento-Datetime: T; Link:  
      URI-R,URI-T,URI-G ------------------------------------- URI-M
</pre>
            
          <p class="figure">Figure 2: A Datetime Negotiation Request/Response Chain</p>
      <div><a name="rfc.section.3.1.p.3"></a></div>
      <dl>
               
               
         <dt>Step 1:</dt>
         <dd>
                    The user agent that wants to access a prior state of
                    the Original Resource issues an HTTP HEAD/GET against URI-R
                    that has an "Accept-Datetime" HTTP header with a value of the
                    datetime of the desired state.
                  
         </dd>
               
               
         <dt>Step 2:</dt>
         <dd>
                    The response from URI-R includes an HTTP "Link" header
                    with a Relation Type of "timegate" pointing at a TimeGate
                    (URI-G) for the Original Resource.
                  
         </dd>
               
               
         <dt>Step 3:</dt>
         <dd>
                    The user agent starts the datetime negotiation process
                    with the TimeGate by issuing an HTTP GET request against URI-G
                    that has an "Accept-Datetime" HTTP header with a value of the
                    datetime of the desired prior state of the Original Resource.
                  
         </dd>
               
               
         <dt>Step 4:</dt>
         <dd>
                    The response from URI-G includes a "Location" header
                    pointing at a Memento (URI-M) for the Original Resource.  In
                    addition, the response contains an HTTP "Link" header with a
                    Relation Type of "original" pointing at the Original Resource
                    (URI-R), and an HTTP "Link" header with a Relation Type of
                    "timemap" pointing at a TimeMap (URI-T).
                  
         </dd>
               
               
         <dt>Step 5:</dt>
         <dd>
                    The user agent issues an HTTP GET request against URI-M.
                  
         </dd>
               
               
         <dt>Step 6:</dt>
         <dd>
                    The response from URI-M includes a "Memento-Datetime"
                    HTTP header with a value of the archival datetime of the
                    Memento.  It also contains an HTTP "Link" header with a
                    Relation Type of "original" pointing at the Original Resource
                    (URI-R), with a Relation Type of "timegate" pointing at a
                    TimeGate (URI-G) for the Original Resource, and with a
                    Relation Type of "timemap" pointing at a TimeMap (URI-T) for
                    the Original Resource.  The state that is expressed by the
                    response is the state the Original Resource had at the
                    archival datetime expressed in the "Memento-Datetime" header.
                  
         </dd>
               
             
      </dl>
      <div><a name="rfc.section.3.1.p.4"></a></div>
      <p>
               In order to respond to a datetime negotiation request, the
               server uses an internal algorithm to select the Memento that
               best meets the user agent's datetime preference. The exact
               nature of the selection algorithm is at the server's discretion
               but is intended to be consistent, for example, always selecting
               the Memento that is nearest in time relative to the requested
               datetime, always selecting the Memento that is nearest in the
               past relative to the requested datetime, etc.
             
      </p>
      <div><a name="rfc.section.3.1.p.5"></a></div>
      <p>
               Due to the sparseness of Mementos in most systems, the value of
               the "Memento-Datetime" header returned by a server may differ
               (significantly) from the value conveyed by the user agent in
               "Accept-Datetime".
             
      </p>
      <div><a name="rfc.section.3.1.p.6"></a></div>
      <p>
               Although a Memento encapsulates a prior state of an Original
               Resource, the entity-body returned in response to an HTTP GET
               request issued against a Memento may very well not be
               byte-to-byte the same as an entity-body that was previously
               returned by that Original Resource. Various reasons exist why
               there are significant chances these would be different yet do
               convey substantially the same information. These include format
               migrations as part of a digital preservation strategy,
               URI-rewriting as applied by some Web archives, and the addition
               of banners as a means to brand Web archives.
             
      </p>
      <div><a name="rfc.section.3.1.p.7"></a></div>
      <p> When negotiating in the datetime dimension, the regular
               content negotiation dimensions (media type, character encoding,
               language, and compression) remain available.  It is the TimeGate
               server's responsibility to honor (or not) such content
               negotiation, and in doing so it MUST always first select a
               Memento that meets the user agent's datetime preference, and
               then consider honoring regular content negotiation for it. As a
               result of this approach, the returned Memento will not
               necessarily meet the user agent's regular content negotiation
               preferences. Therefore, it is RECOMMENDED that the server
               provides "memento" links in the HTTP "Link" header pointing at
               Mementos that do meet the user agent's regular content
               negotiation requests and that have a value for the
               "Memento-Datetime" header in the temporal vicinity of the user
               agent's preferred datetime value.
             
      </p>
      <div><a name="rfc.section.3.1.p.8"></a></div>
      <p>A user agent that engages in datetime negotiation with a
               resource typically starts by issuing an HTTP HEAD, not GET,
               request with an "Accept-Datetime" header in order to determine
               how to proceed. This strategy is related to the existence of
               various server implementation patterns as will become clear in
               <a href="#component-1.2" title="Datetime Negotiation: HTTP Interactions">Section&nbsp;4</a>.
         
               
               
         
         
      </p>
      <div><a name="rfc.section.3.1.p.9"></a></div>
      <p>Details about the HTTP interactions involved in datetime
             negotiation are provided in
               <a href="#component-1.2" title="Datetime Negotiation: HTTP Interactions">Section&nbsp;4</a>.
      </p>
      <h2><a name="rfc.section.3.2">3.2</a>&nbsp;
         
         <a name="overview-timemaps">TimeMaps</a></h2>
      <div><a name="rfc.section.3.2.p.1"></a></div>
      <p><a href="#intro-timemap">Figure&nbsp;3</a> provides a schematic
                 overview of a successful request/response chain that shows a
                 user agent obtaining a TimeMap.  The pictorial conventions are
                 the same as the ones used
                 in <a href="#intro-flow">Figure&nbsp;2</a>, as is the scenario. Note
                 that, in addition to a TimeGate, an Original Resource and a
                 Memento can also provide a link to a TimeMap.
               
      </p>
      <div><a name="intro-timemap"></a></div>
      <div><a name="rfc.figure.3"></a></div>
              
              <pre>1: UA --- HTTP HEAD/GET ------------------------------------&gt; URI-R
2: UA &lt;-- HTTP 200; Link: URI-G ----------------------------- URI-R
3: UA --- HTTP HEAD/GET ------------------------------------&gt; URI-G
4: UA &lt;-- HTTP 302; Location: URI-M; Vary; Link: 
      URI-R,URI-T ------------------------------------------&gt; URI-G
5: UA --- HTTP GET URI-T -----------------------------------&gt; URI-T
6: UA &lt;-- HTTP 200 ------------------------------------------ URI-T
</pre>
              
            <p class="figure">Figure 3: A Request/Response Chain to Obtain a TimeMap</p>
      <div><a name="rfc.section.3.2.p.3"></a></div>
      <dl>
                 
                 
         <dt>Step 7:</dt>
         <dd>
                      The user agent that wants to access a TimeMap for
                      the Original Resource issues an HTTP HEAD/GET against
                      URI-R. This can be done with or without an "Accept-Datetime"
                      HTTP header.
                    
         </dd>
                 
                 
         <dt>Step 8:</dt>
         <dd>
                      Irrespective of the use of an "Accept-Datetime" HTTP
                      header in Step 1, the response from URI-R includes an HTTP
                      "Link" header with a Relation Type of "timegate" pointing at
                      a TimeGate (URI-G) for the Original Resource.
                    
         </dd>
                 
                 
         <dt>Step 9:</dt>
         <dd>
                      The user agent issues an HTTP GET request against
                      URI-G. This can be done with or without an "Accept-Datetime"
                      HTTP header.
                    
         </dd>
                 
                 
         <dt>Step 10:</dt>
         <dd>
                      Irrespective of the use of an "Accept-Datetime" HTTP
                      header in Step 1, the response contains an HTTP "Link"
                      header with a Relation Type of "timemap" pointing at a
                      TimeMap (URI-T).
                    
         </dd>
                 
                 
         <dt>Step 11:</dt>
         <dd>
                      The user agent issues an HTTP GET request against URI-T.
                    
         </dd>
                 
                 
         <dt>Step 12:</dt>
         <dd>
                      The response from URI-T has an entity-body that
                      lists all Mementos for the Original Resource known to the
                      responding server, as well as their archival datetimes.
                    
         </dd>
                 
               
      </dl>
      <div><a name="rfc.section.3.2.p.4"></a></div>
      <p>Details about the content and serialization of TimeMaps are
               provided in <a href="#Pattern6" title="TimeMaps: Content and Serialization">Section&nbsp;5</a>.
      </p>
      
      
        
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1><a name="rfc.section.4">4</a>&nbsp;
         
         <a name="component-1.2">Datetime Negotiation: HTTP Interactions</a></h1>
      <div><a name="rfc.section.4.p.1"></a></div>
      <p>
               <a href="#intro-flow">Figure&nbsp;2</a> depicts a specific pattern to
               implement the Memento framework.  Multiple patterns exist, and
               they can be grouped as follows:
             
      </p>
      <div><a name="rfc.section.4.p.2"></a></div>
      <ul>
               
         <li><a href="#Pattern1">Pattern 1</a> - The Original Resource acts as its own TimeGate
         </li>
               
         <li><a href="#Pattern2">Pattern 2</a> - A remote resource acts as a TimeGate for the Original Resource
         </li>
               
         <li><a href="#Pattern3">Pattern 3</a> - The Original Resource is a Fixed Resource
         </li>
               
         <li><a href="#Pattern4">Pattern 4</a> - Mementos without a TimeGate
         </li>
             
      </ul>
      <div><a name="rfc.section.4.p.3"></a></div>
      <p>Details of the HTTP interactions for common cases for each of
             those patterns are provided in Sections
               <a href="#Pattern1" title="Pattern 1 - The Original Resource Acts as Its Own TimeGate">4.1</a>
               through <a href="#Pattern4" title="Pattern 4 - Mementos without a TimeGate">4.4</a>. <a href="#Appendix" title="Use of Headers and Relation Types per Pattern">Appendix&nbsp;A</a>
               summarizes the use of the "Vary", "Memento-Datetime", and "Link"
               headers in responses from Original Resources, TimeGates, and
               Mementos for the various patterns.  Special cases are described
               in <a href="#SpecialCases" title="Special Cases">Section&nbsp;4.5</a>.  Note that in the
               following sections, the HTTP status code of the responses with
               an entity-body is shown as "200 OK", but a series of "206
               Partial Content" responses could be substituted.
      </p>
      <div><a name="rfc.section.4.p.4"></a></div>
      <p>
               <a href="#Pattern1-Request1">Figure&nbsp;4</a> shows a user agent that
               attempts to datetime negotiate with the Original Resource
               http://a.example.org/ by including an "Accept-Datetime" header
               in its HTTP HEAD request. This initiating request is the same
               for <a href="#Pattern1">Pattern 1</a>
               through <a href="#Pattern3">Pattern 3</a>.
             
      </p>
      <div><a name="Pattern1-Request1"></a></div>
      <div><a name="rfc.figure.4"></a></div>       
            <pre>HEAD / HTTP/1.1
Host: a.example.org
Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT
Connection: close
</pre>         
          <p class="figure">Figure 4: User Agent Attempts Datetime Negotiation with Original Resource</p>
      <h2><a name="rfc.section.4.1">4.1</a>&nbsp;
         
         <a name="Pattern1">Pattern 1 - The Original Resource Acts as Its Own TimeGate</a></h2>
      <div><a name="rfc.section.4.1.p.1"></a></div>
      <p>In this implementation pattern, the Original Resource acts as
               its own TimeGate, which means that URI-R and URI-G
               coincide. Content management systems and revision control
               systems can support datetime negotiation in this way as they are
               commonly aware of the version history of their own
               resources.
      </p>
      <div><a name="rfc.section.4.1.p.2"></a></div>
      <p>The response to this request when datetime negotiation for
                 this resource is supported depends on the negotiation style it
                 uses (200-style or 302-style) and on the existence or absence
                 of a URI-M for Mementos that is distinct from the URI-R of the
                 associated Original Resource.  The various cases are
                 summarized in the below table, and the server responses for
                 each are detailed in the remainder of this section.
               
      </p>
      <table summary="" border="1" cellpadding="3" cellspacing="0">
         <thead>
            <tr>
               <th valign="top" style="text-align: center;">Pattern</th>
               <th valign="top" style="text-align: center;">Original Resource</th>
               <th valign="top" style="text-align: center;">TimeGate</th>
               <th valign="top" style="text-align: center;">Memento</th>
               <th valign="top" style="text-align: center;">Negotiation Style</th>
            </tr>
         </thead>
         <tbody>
            <tr>
               <td class="top" style="text-align: center;"><a href="#Pattern1.1">Pattern 1.1</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-M
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">302
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;"><a href="#Pattern1.2">Pattern 1.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-M
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">200
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;"><a href="#Pattern1.3">Pattern 1.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">200
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
         </tbody>
      </table>
      <h3><a name="rfc.section.4.1.1">4.1.1</a>&nbsp;
         
         <a name="Pattern1.1">Pattern 1.1 - URI-R=URI-G; 302-Style Negotiation; Distinct URI-M</a></h3>
      <div><a name="rfc.section.4.1.1.p.1"></a></div>
      <p>
                     In this case, the response to the user agent's request
                   of <a href="#Pattern1-Request1">Figure&nbsp;4</a> has a "302
                   Found" HTTP status code, and the "Location" header conveys
                   the URI-M of the selected Memento.  The use of Memento
                   response headers and links in the response from URI-R=URI-G
                   is as follows:
      </p>
      <div><a name="rfc.section.4.1.1.p.2"></a></div>
      <ul>
                   
         <li>The "Vary" header MUST be provided, and it MUST include the "accept-datetime" value.</li>
                   
         <li>The response MUST NOT contain a "Memento-Datetime" header.</li>
                   
         <li>The "Link" header MUST be provided, and it MUST contain at
                      least a link with the "original" Relation Type that has the
                      URI-R of the Original Resource as Target IRI. The provision
                      of other links is encouraged and is subject to the
                      considerations described
                      in <a href="#Link-Header-Relation-Types" title="Link Relation Types">Section&nbsp;2.2</a>.
         </li>
                   
      </ul>
      <div><a name="rfc.section.4.1.1.p.3"></a></div>
      <p>The server's response to the request of <a href="#Pattern1-Request1">Figure&nbsp;4</a> is shown in 
                   <a href="#Pattern1.1-Response1">Figure&nbsp;5</a>. Note the
                   inclusion of the recommended link to the TimeGate that, in
                   this case, has a Target IRI that is the URI-R of the
                   Original Resource.
      </p>
      <div><a name="Pattern1.1-Response1"></a></div>
      <div><a name="rfc.figure.5"></a></div>
                <pre>HTTP/1.1 302 Found
Date: Thu, 21 Jan 2010 00:06:50 GMT
Server: Apache
Vary: accept-datetime
Location: 
 http://a.example.org/?version=20010320133610
Link: &lt;http://a.example.org/&gt;; rel="original timegate"
Content-Length: 0
Content-Type: text/plain; charset=UTF-8
Connection: close
</pre>
              <p class="figure">Figure 5: Response from URI-R=URI-G for Pattern 1.1</p>
      <div><a name="rfc.section.4.1.1.p.5"></a></div>
      <p>In a subsequent request, shown
                   in <a href="#Pattern1-Request2">Figure&nbsp;6</a>, the user agent
                   can obtain the selected Memento by issuing an HTTP GET
                   request against the URI-M that was provided in the
                   "Location" header. The inclusion of the "Accept-Datetime"
                   header in this request is not needed but will typically
                   occur as the user agent is in datetime negotiation mode.
      </p>
      <div><a name="Pattern1-Request2"></a></div>
      <div><a name="rfc.figure.6"></a></div>       
                <pre>GET /?version=20010320133610 HTTP/1.1
Host: a.example.org
Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT
Connection: close
</pre>         
              <p class="figure">Figure 6: User Agent Requests Selected Memento</p>
      <div><a name="rfc.section.4.1.1.p.7"></a></div>
      <p>The response has a "200 OK" HTTP status code, and the
                   entity-body of the response contains the representation of
                   the selected Memento.  The use of Memento response headers
                   and links in the response from URI-M is as follows:
      </p>
      <div><a name="rfc.section.4.1.1.p.8"></a></div>
      <ul>
                   
         <li>A "Vary" header that includes an "accept-datetime" value MUST NOT be provided.</li>
                   
         <li>The response MUST include a "Memento-Datetime"
                      header. Its value expresses the archival datetime of the
                      Memento.
         </li>
                   
         <li>The "Link" header MUST be provided, and it MUST contain at
                        least a link with the "original" Relation Type that has
                        the URI-R of the Original Resource as Target IRI. The
                        provision of other links is encouraged and is subject to
                        the considerations described
                        in <a href="#Link-Header-Relation-Types" title="Link Relation Types">Section&nbsp;2.2</a>.
         </li>
                 
      </ul>
      <div><a name="rfc.section.4.1.1.p.9"></a></div>
      <p>The server's response to the request
                 of <a href="#Pattern1-Request2">Figure&nbsp;6</a> is shown in
                   <a href="#Pattern1.1-Response2">Figure&nbsp;7</a>. Note the
                   provision of the required "original", and the recommended
                   "timegate" and "timemap" links.  The former two point to the
                   Original Resource, which acts as its own TimeGate. The
                   latter has "from" and "until" attributes to indicate the
                   temporal interval covered by Mementos listed in the linked
                   TimeMap.
      </p>
      <div><a name="Pattern1.1-Response2"></a></div>
      <div><a name="rfc.figure.7"></a></div>   
                <pre>HTTP/1.1 200 OK
Date: Thu, 21 Jan 2010 00:06:51 GMT
Server: Apache-Coyote/1.1
Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT
Link: &lt;http://a.example.org/&gt;; rel="original timegate",
 &lt;http://a.example.org/?version=all&amp;style=timemap&gt;
   ; rel="timemap"; type="application/link-format"
   ; from="Tue, 15 Sep 2000 11:28:26 GMT"
   ; until="Wed, 20 Jan 2010 09:34:33 GMT"
Content-Length: 23364
Content-Type: text/html;charset=utf-8
Connection: close
</pre>  
              <p class="figure">Figure 7: Response from URI-M for Pattern 1.1</p>
      <h3><a name="rfc.section.4.1.2">4.1.2</a>&nbsp;
         
         <a name="Pattern1.2">Pattern 1.2 - URI-R=URI-G; 200-Style Negotiation; Distinct URI-M</a></h3>
      <div><a name="rfc.section.4.1.2.p.1"></a></div>
      <p>
                   In this case, the response to the user agent's request
                   of <a href="#Pattern1-Request1">Figure&nbsp;4</a> has a "200 OK"
                   HTTP status code, and the "Content-Location" header conveys
                   the URI-M of the selected Memento.  The use of Memento
                   response headers and links in the response from URI-R=URI-G
                   is as follows:
      </p>
      <div><a name="rfc.section.4.1.2.p.2"></a></div>
      <ul>
                   
         <li>The "Vary" header MUST be provided, and it MUST include
                      the "accept-datetime" value.
         </li>
                   
         <li>The response MUST include a "Memento-Datetime"
                        header. Its value expresses the archival datetime of the
                        selected Memento.
         </li>
                   
         <li>The "Link" header MUST be provided, and it MUST contain at
                        least a link with the "original" Relation Type that has
                        the URI-R of the Original Resource as Target IRI. The
                        provision of other links is encouraged and is subject to
                        the considerations described
                        in <a href="#Link-Header-Relation-Types" title="Link Relation Types">Section&nbsp;2.2</a>.
         </li>
                 
      </ul>
      <div><a name="rfc.section.4.1.2.p.3"></a></div>
      <p>The server's response to the request
                 of <a href="#Pattern1-Request1">Figure&nbsp;4</a> is shown in
                   <a href="#Pattern1.2-Response1">Figure&nbsp;8</a>. Note the
                 provision of optional "memento" links pointing at the oldest
                 and most recent Memento for the Original Resource known to the
                 responding server.
      </p>
      <div><a name="Pattern1.2-Response1"></a></div>
      <div><a name="rfc.figure.8"></a></div>
                <pre>HTTP/1.1 200 OK
Date: Thu, 21 Jan 2010 00:06:50 GMT
Server: Apache
Vary: accept-datetime
Content-Location: 
 http://a.example.org/?version=20010320133610
Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT
Link: &lt;http://a.example.org/&gt;; rel="original timegate",
 &lt;http://a.example.org/?version=20000915112826&gt;
 ; rel="memento first"; datetime="Tue, 15 Sep 2000 11:28:26 GMT",
 &lt;http://a.example.org/?version=20100120093433&gt;
 ; rel="memento last"; datetime="Wed, 20 Jan 2010 09:34:33 GMT",
 &lt;http://a.example.org/?version=all&amp;style=timemap&gt;
 ; rel="timemap"; type="application/link-format"
Content-Length: 23364
Content-Type: text/html;charset=utf-8
Connection: close
</pre>
              <p class="figure">Figure 8: Response from URI-R=URI-G for Pattern 1.2</p>
      <div><a name="rfc.section.4.1.2.p.5"></a></div>
      <p>In a subsequent request, which is the same
                   as <a href="#Pattern1-Request1">Figure&nbsp;4</a> but with HTTP
                   GET instead of HEAD, the user agent can obtain the
                   representation of the selected Memento. It will be provided
                   as the entity-body of a response that has the same Memento
                   headers as in
                   <a href="#Pattern1.2-Response1">Figure&nbsp;8</a>.
      </p>
      <h3><a name="rfc.section.4.1.3">4.1.3</a>&nbsp;
         
         <a name="Pattern1.3">Pattern 1.3 - URI-R=URI-G; 200-Style Negotiation; No Distinct URI-M</a></h3>
      <div><a name="rfc.section.4.1.3.p.1"></a></div>
      <p>
                   In this case, the response to the user agent's request
                   of <a href="#Pattern1-Request1">Figure&nbsp;4</a> has a "200 OK"
                   HTTP status code, and it does not contain a
                   "Content-Location" nor a "Location" header as there is no
                   URI-M of the selected Memento to convey.  The use of Memento
                   response headers and links in the response from URI-R=URI-G
                   is as follows:
      </p>
      <div><a name="rfc.section.4.1.3.p.2"></a></div>
      <ul>
                   
         <li>The "Vary" header MUST be provided, and it MUST include
                      the "accept-datetime" value.
         </li>
                   
         <li>The response MUST include a "Memento-Datetime"
                        header. Its value expresses the archival datetime of the
                        selected Memento.
         </li>
                   
         <li>The "Link" header MUST be provided, and it MUST contain at
                        least a link with the "original" Relation Type that has
                        the URI-R of the Original Resource as Target IRI. The
                        provision of other links is encouraged and is subject to
                        the considerations described
                        in <a href="#Link-Header-Relation-Types" title="Link Relation Types">Section&nbsp;2.2</a>.
         </li>
                 
      </ul>
      <div><a name="rfc.section.4.1.3.p.3"></a></div>
      <p>The server's response to the request
                 of <a href="#Pattern1-Request1">Figure&nbsp;4</a> is shown in
                   <a href="#Pattern1.3-Response1">Figure&nbsp;9</a>. The recommended
                   "timemap" and "timegate" links are included in addition to
                   the mandatory "original" link.
      </p>
      <div><a name="Pattern1.3-Response1"></a></div>
      <div><a name="rfc.figure.9"></a></div>
                <pre>HTTP/1.1 200 OK
Date: Thu, 21 Jan 2010 00:06:50 GMT
Server: Apache
Vary: accept-datetime
Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT
Link: &lt;http://a.example.org/&gt;; rel="original timegate",
 &lt;http://a.example.org/?version=all&amp;style=timemap&gt;
   ; rel="timemap"; type="application/link-format"
Content-Length: 23364
Content-Type: text/html;charset=utf-8
Connection: close
</pre>
              <p class="figure">Figure 9: Response from URI-R=URI-G for Pattern 1.3</p>
      <div><a name="rfc.section.4.1.3.p.5"></a></div>
      <p>In a subsequent request, which is the same
                   as <a href="#Pattern1-Request1">Figure&nbsp;4</a> but with HTTP
                   GET instead of HEAD, the user agent can obtain the
                   representation of the selected Memento. It will be provided
                   as the entity-body of a response that has the same Memento
                   headers as in
                   <a href="#Pattern1.3-Response1">Figure&nbsp;9</a>.
      </p>
      <h2><a name="rfc.section.4.2">4.2</a>&nbsp;
         
         <a name="Pattern2">Pattern 2 - A Remote Resource Acts as a TimeGate for the Original Resource</a></h2>
      <div><a name="rfc.section.4.2.p.1"></a></div>
      <p>In this implementation pattern, the Original Resource does
                 not act as its own TimeGate, which means that URI-R and URI-G
                 are different. This pattern is typically implemented by
                 servers for which the history of their resources is recorded
                 in remote systems such as Web archives and transactional
                 archives <a href="#Fitch" title="Web site archiving - an approach to recording every materially different response produced by a website">[Fitch]</a>.  But servers that
                 maintain their own history, such as content management systems
                 and version control systems, may also implement this pattern,
                 for example, to distribute the load involved in responding to
                 requests for current and prior representations of resources
                 between different servers.
      </p>
      <div><a name="rfc.section.4.2.p.2"></a></div>
      <p>This pattern is summarized in the below table and is detailed
                 in the remainder of this section.  Three cases exist that
                 differ regarding the negotiation style that is used by the
                 remote TimeGate and regarding the existence of a URI-M for
                 Mementos that is distinct from the URI-G of the TimeGate.
               
      </p>
      <table summary="" border="1" cellpadding="3" cellspacing="0">
         <thead>
            <tr>
               <th valign="top" style="text-align: center;">Pattern</th>
               <th valign="top" style="text-align: center;">Original Resource</th>
               <th valign="top" style="text-align: center;">TimeGate</th>
               <th valign="top" style="text-align: center;">Memento</th>
               <th valign="top" style="text-align: center;">Negotiation Style</th>
            </tr>
         </thead>
         <tbody>
            <tr>
               <td class="top" style="text-align: center;"><a href="#Pattern2.1">Pattern 2.1</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-G
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-M
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">302
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;"><a href="#Pattern2.2">Pattern 2.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-G
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-M
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">200
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;"><a href="#Pattern2.3">Pattern 2.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-G
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-G
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">200
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
         </tbody>
      </table>
      <div><a name="rfc.section.4.2.p.3"></a></div>
      <p>The response by the Original Resource to the request shown
                 in <a href="#Pattern1-Request1">Figure&nbsp;4</a> is the same for
                 all three cases. The use of headers and links in the response
                 from URI-R is as follows:
               
      </p>
      <div><a name="rfc.section.4.2.p.4"></a></div>
      <ul>
                 
         <li>A "Vary" header that includes an "accept-datetime" value
                    MUST NOT be provided.
         </li>
                 
         <li>The response MUST NOT contain a "Memento-Datetime" header.</li>
                 
         <li>The "Link" header SHOULD be provided.  It MUST NOT include
                      a link with an "original" Relation Type.  If a preferred
                      TimeGate is associated with the Original Resource, then it
                      MUST include a link with a "timegate" Relation Type that has
                      the URI-G of the TimeGate as Target IRI.  If a preferred
                      TimeMap is associated with the Original Resource, then it
                      SHOULD include a link with a "timemap" Relation Type that
                      has the URI-T of the TimeGate as Target IRI.  Multiple
                      "timegate" and "timemap" links can be provided to
                      accommodate situations in which the server is aware of
                      multiple TimeGates or TimeMaps for the Original
                      Resource.
         </li>
               
      </ul>
      <div><a name="rfc.section.4.2.p.5"></a></div>
      <p><a href="#Pattern2-Response1">Figure&nbsp;10</a> shows such a
               response. Note the absence of an "original" link as the
               responding resource is neither a TimeGate nor a Memento.
      </p>
      <div><a name="Pattern2-Response1"></a></div>
      <div><a name="rfc.figure.10"></a></div>  
              <pre>HTTP/1.1 200 OK
Date: Thu, 21 Jan 2010 00:02:12 GMT
Server: Apache
Link: &lt;http://arxiv.example.net/timegate/http://a.example.org/&gt;
   ; rel="timegate"
Content-Length: 255
Connection: close
Content-Type: text/html; charset=iso-8859-1
</pre>
            <p class="figure">Figure 10: Response from URI-R&lt;&gt;URI-G for Pattern 2</p>
      <div><a name="rfc.section.4.2.p.7"></a></div>
      <p>Once a user agent has obtained the URI-G of a remote TimeGate
                 for the Original Resource, it can engage in datetime negotiation
                 with that TimeGate. <a href="#Pattern2-Request2">Figure&nbsp;11</a>
                 shows the request issued against the TimeGate,
                 whereas Sections <a href="#Pattern2.1" title="Pattern 2.1 - URI-R<&gt;URI-G; 302-Style Negotiation; Distinct URI-M">4.2.1</a> through
                 <a href="#Pattern2.3" title="Pattern 2.3 - URI-R<&gt;URI-G; 200-Style Negotiation; No Distinct URI-M">4.2.3</a> 
                 detail the responses for various TimeGate implementation patterns.  
               
      </p>
      <div><a name="Pattern2-Request2"></a></div>
      <div><a name="rfc.figure.11"></a></div>        
              <pre>HEAD /timegate/http://a.example.org/ HTTP/1.1
Host: arxiv.example.net
Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT
Connection: close
</pre>       
            <p class="figure">Figure 11: User Agent Engages in Datetime Negotiation with Remote TimeGate</p>
      <h3><a name="rfc.section.4.2.1">4.2.1</a>&nbsp;
         
         <a name="Pattern2.1">Pattern 2.1 - URI-R&lt;&gt;URI-G; 302-Style Negotiation; Distinct URI-M</a></h3>
      <div><a name="rfc.section.4.2.1.p.1"></a></div>
      <p>
                   In case the TimeGate uses a 302 negotiation style, the response to the user agent's request of 
                   <a href="#Pattern2-Request2">Figure&nbsp;11</a> has a "302 Found"
                   HTTP status code, and the "Location" header conveys the
                   URI-M of the selected Memento.  The use of Memento response
                   headers and links in the response from URI-G is as
                   follows:
      </p>
      <div><a name="rfc.section.4.2.1.p.2"></a></div>
      <ul>
                   
         <li>The "Vary" header MUST be provided, and it MUST include
                      the "accept-datetime" value.
         </li>
                   
         <li>The response MUST NOT contain a "Memento-Datetime" header.</li>
                   
         <li>The "Link" header MUST be provided, and it MUST contain at
                        least a link with the "original" Relation Type that has
                        the URI-R of the Original Resource as Target IRI. The
                        provision of other links is encouraged and is subject to
                        the considerations described
                        in <a href="#Link-Header-Relation-Types" title="Link Relation Types">Section&nbsp;2.2</a>.
         </li>
                 
      </ul>
      <div><a name="rfc.section.4.2.1.p.3"></a></div>
      <p>The server's response to the request
                 of <a href="#Pattern2-Request2">Figure&nbsp;11</a> is shown in
                   <a href="#Pattern2.1-Response1">Figure&nbsp;12</a>. It contains the
                 mandatory "original" link that points back to the Original
                 Resource associated with this TimeGate, and it shows the
                 recommended "timemap" link that includes "from" and "until"
                 attributes.
      </p>
      <div><a name="Pattern2.1-Response1"></a></div>
      <div><a name="rfc.figure.12"></a></div>  
                <pre>HTTP/1.1 302 Found
Date: Thu, 21 Jan 2010 00:02:14 GMT
Server: Apache
Vary: accept-datetime
Location: 
 http://arxiv.example.net/web/20010321203610/http://a.example.org/
Link: &lt;http://a.example.org/&gt;; rel="original",
 &lt;http://arxiv.example.net/timemap/http://a.example.org/&gt;
   ; rel="timemap"; type="application/link-format"
   ; from="Tue, 15 Sep 2000 11:28:26 GMT"
   ; until="Wed, 20 Jan 2010 09:34:33 GMT"
Content-Length: 0
Content-Type: text/plain; charset=UTF-8
Connection: close
</pre>
              <p class="figure">Figure 12: Response from URI-G&lt;&gt;URI-R for Pattern 2.1</p>
      <div><a name="rfc.section.4.2.1.p.5"></a></div>
      <p>In a subsequent HTTP GET request, shown
                   in <a href="#Pattern2.1-Request2">Figure&nbsp;13</a>, the user
                   agent can obtain the selected Memento by issuing an HTTP GET
                   request against the URI-M that was provided in the
                   "Location" header. The inclusion of the "Accept-Datetime"
                   header in this request is not needed but will typically
                   occur as the user agent is in datetime negotiation mode.
      </p>
      <div><a name="Pattern2.1-Request2"></a></div>
      <div><a name="rfc.figure.13"></a></div>       
                <pre>GET /web/20010321203610/http://a.example.org/ HTTP/1.1
Host: arxiv.example.net/
Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT
Connection: close
</pre>         
              <p class="figure">Figure 13: User Agent Requests Selected Memento</p>
      <div><a name="rfc.section.4.2.1.p.7"></a></div>
      <p>The response has a "200 OK" HTTP status code.  The use of
                   Memento response headers and links in the response from
                   URI-M is as follows:
      </p>
      <div><a name="rfc.section.4.2.1.p.8"></a></div>
      <ul>
                   
         <li>A "Vary" header that includes an "accept-datetime" value
                      MUST NOT be provided.
         </li>
                   
         <li>The response MUST include a "Memento-Datetime"
                        header. Its value expresses the archival datetime of the
                        Memento.
         </li>
                   
         <li>The "Link" header MUST be provided, and it MUST contain at
                        least a link with the "original" Relation Type that has
                        the URI-R of the Original Resource as Target IRI. The
                        provision of other links is encouraged and is subject to
                        the considerations described
                        in <a href="#Link-Header-Relation-Types" title="Link Relation Types">Section&nbsp;2.2</a>.
         </li>
                 
      </ul>
      <div><a name="rfc.section.4.2.1.p.9"></a></div>
      <p>The server's response to the request
                 of <a href="#Pattern2.1-Request2">Figure&nbsp;13</a> is shown in
                   <a href="#Pattern2.1-Response2">Figure&nbsp;14</a>. Note the provision of the recommended "timegate" and "timemap" links. 
                   
      </p>
      <div><a name="Pattern2.1-Response2"></a></div>
      <div><a name="rfc.figure.14"></a></div>   
                <pre>HTTP/1.1 200 OK
Date: Thu, 21 Jan 2010 00:02:15 GMT
Server: Apache-Coyote/1.1
Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT
Link: &lt;http://a.example.org/&gt;; rel="original",
 &lt;http://arxiv.example.net/timemap/http://a.example.org/&gt;
   ; rel="timemap"; type="application/link-format", 
 &lt;http://arxiv.example.net/timegate/http://a.example.org/&gt;
   ; rel="timegate"
Content-Length: 25532
Content-Type: text/html;charset=utf-8
Connection: close
</pre>  
              <p class="figure">Figure 14: Response from URI-M for Pattern 2.1</p>
      <h3><a name="rfc.section.4.2.2">4.2.2</a>&nbsp;
         
         <a name="Pattern2.2">Pattern 2.2 - URI-R&lt;&gt;URI-G; 200-Style Negotiation; Distinct URI-M</a></h3>
      <div><a name="rfc.section.4.2.2.p.1"></a></div>
      <p>
                   In case the TimeGate uses a 200 negotiation style, and each
                   Memento has a distinct URI-M, the response to the user
                   agent's request of
                   <a href="#Pattern2-Request2">Figure&nbsp;11</a> has a "200 OK" HTTP
                   status code, and the "Content-Location" header conveys the
                   URI-M of the selected Memento.  The use of Memento response
                   headers and links in the response from URI-G is as
                   follows:
      </p>
      <div><a name="rfc.section.4.2.2.p.2"></a></div>
      <ul>
                   
         <li>The "Vary" header MUST be provided, and it MUST include
                      the "accept-datetime" value.
         </li>
                   
         <li>The response MUST include a "Memento-Datetime"
                        header. Its value expresses the archival datetime of the
                        Memento.
         </li>
                   
         <li>The "Link" header MUST be provided, and it MUST contain at
                        least a link with the "original" Relation Type that has
                        the URI-R of the Original Resource as Target IRI. The
                        provision of other links is encouraged and is subject to
                        the considerations described
                        in <a href="#Link-Header-Relation-Types" title="Link Relation Types">Section&nbsp;2.2</a>.
         </li>
                 
      </ul>
      <div><a name="rfc.section.4.2.2.p.3"></a></div>
      <p>The server's response to the request
                 of <a href="#Pattern2-Request2">Figure&nbsp;11</a> is shown in
                   <a href="#Pattern2.2-Response1">Figure&nbsp;15</a>.
      </p>
      <div><a name="Pattern2.2-Response1"></a></div>
      <div><a name="rfc.figure.15"></a></div>   
                <pre>HTTP/1.1 200 OK
Date: Thu, 21 Jan 2010 00:09:40 GMT
Server: Apache-Coyote/1.1
Vary: accept-datetime
Content-Location: 
 http://arxiv.example.net/web/20010321203610/http://a.example.org/
Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT
Link: &lt;http://a.example.org/&gt;; rel="original",
 &lt;http://arxiv.example.net/timemap/http://a.example.org/&gt;
   ; rel="timemap"; type="application/link-format", 
 &lt;http://arxiv.example.net/timegate/http://a.example.org/&gt;
   ; rel="timegate"
Content-Length: 25532
Content-Type: text/html;charset=utf-8
Connection: close
</pre>  
              <p class="figure">Figure 15: Response from URI-G&lt;&gt;URI-R for Pattern 2.2</p>
      <div><a name="rfc.section.4.2.2.p.5"></a></div>
      <p>In a subsequent request, which is the same
                   as <a href="#Pattern2-Request2">Figure&nbsp;11</a> but with HTTP
                   GET instead of HEAD, the user agent can obtain the
                   representation of the selected Memento. It will be provided
                   as the entity-body of a response that has the same Memento
                   headers as
                   <a href="#Pattern2.2-Response1">Figure&nbsp;15</a>.
      </p>
      <h3><a name="rfc.section.4.2.3">4.2.3</a>&nbsp;
         
         <a name="Pattern2.3">Pattern 2.3 - URI-R&lt;&gt;URI-G; 200-Style Negotiation; No Distinct URI-M</a></h3>
      <div><a name="rfc.section.4.2.3.p.1"></a></div>
      <p>
                   In case the TimeGate uses a 200 negotiation style, but
                   Mementos have no distinct URIs, the response to the user
                   agent's request of
                   <a href="#Pattern2-Request2">Figure&nbsp;11</a> has a "200 OK" HTTP
                   status code, and it does not contain a "Content-Location"
                   nor "Location" header as there is no URI-M of the selected
                   Memento to convey.  The use of Memento response headers and
                   links in the response from URI-G is as follows:
      </p>
      <div><a name="rfc.section.4.2.3.p.2"></a></div>
      <ul>
                   
         <li>The "Vary" header MUST be provided, and it MUST include
                      the "accept-datetime" value.
         </li>
                   
         <li>The response MUST include a "Memento-Datetime"
                        header. Its value expresses the archival datetime of the
                        Memento.
         </li>
                   
         <li>The "Link" header MUST be provided, and it MUST contain at
                        least a link with the "original" Relation Type that has
                        the URI-R of the Original Resource as Target IRI. The
                        provision of other links is encouraged and is subject to
                        the considerations described
                        in <a href="#Link-Header-Relation-Types" title="Link Relation Types">Section&nbsp;2.2</a>.
         </li>
                 
      </ul>
      <div><a name="rfc.section.4.2.3.p.3"></a></div>
      <p>The server's response to the request of <a href="#Pattern2-Request2">Figure&nbsp;11</a> is shown in 
                   <a href="#Pattern2.3-Response1">Figure&nbsp;16</a>.
      </p>
      <div><a name="Pattern2.3-Response1"></a></div>
      <div><a name="rfc.figure.16"></a></div>   
                <pre>HTTP/1.1 200 OK
Date: Thu, 21 Jan 2010 00:09:40 GMT
Server: Apache-Coyote/1.1
Vary: accept-datetime
Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT
Link: &lt;http://a.example.org/&gt;; rel="original",
 &lt;http://arxiv.example.net/timemap/http://a.example.org/&gt;
   ; rel="timemap"; type="application/link-format", 
 &lt;http://arxiv.example.net/timegate/http://a.example.org/&gt;
   ; rel="timegate"
Content-Length: 25532
Content-Type: text/html;charset=utf-8
Connection: close
</pre>  
              <p class="figure">Figure 16: Response from URI-G&lt;&gt;URI-R for Pattern 2.3</p>
      <div><a name="rfc.section.4.2.3.p.5"></a></div>
      <p>In a subsequent request, which is the same
                   as <a href="#Pattern2-Request2">Figure&nbsp;11</a> but with HTTP
                   GET instead of HEAD, the user agent can obtain the
                   representation of the selected Memento. It will be provided
                   as the entity-body of a response that has the same Memento
                   headers as
                   <a href="#Pattern2.3-Response1">Figure&nbsp;16</a>.
      </p>
      <h2><a name="rfc.section.4.3">4.3</a>&nbsp;
         
         <a name="Pattern3">Pattern 3 - The Original Resource is a Fixed Resource</a></h2>
      <div><a name="rfc.section.4.3.p.1"></a></div>
      <p>This pattern does not involve datetime negotiation with a
               TimeGate, but it can be implemented for Original Resources that
               never change state or do not change anymore past a certain point
               in their existence, meaning that URI-R and URI-M coincide either
               from the outset or starting at some point in time. This pattern
               is summarized in the below table.  Examples are tweets or stable
               media resources on news sites.
      </p>
      <table summary="" border="1" cellpadding="3" cellspacing="0">
         <thead>
            <tr>
               <th valign="top" style="text-align: center;">Pattern</th>
               <th valign="top" style="text-align: center;">Original Resource</th>
               <th valign="top" style="text-align: center;">TimeGate</th>
               <th valign="top" style="text-align: center;">Memento</th>
               <th valign="top" style="text-align: center;">Negotiation Style</th>
            </tr>
         </thead>
         <tbody>
            <tr>
               <td class="top" style="text-align: center;">Pattern 3
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">-
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">-
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
         </tbody>
      </table>
      <div><a name="rfc.section.4.3.p.2"></a></div>
      <p>
                 Servers that host such resources can support the Memento
                 framework by treating the stable resource (FixedResource as
                 per <a href="#W3C.gen-ont-20090420" title="Architecture of the World Wide Web">[W3C.gen-ont-20090420]</a>) as a Memento.
                 The use of Memento response headers and links in responses
                 from such a stable resource is as follows:
               
      </p>
      <div><a name="rfc.section.4.3.p.3"></a></div>
      <ul>
                 
         <li>A "Vary" header that includes an "accept-datetime" value
                    MUST NOT be provided.
         </li>
                 
         <li>The response MUST include a "Memento-Datetime" header. Its
                      value expresses the datetime at which the resource became
                      stable. Providing this value includes a promise that the
                      resource has not changed since this datetime and will not
                      change anymore beyond it.
         </li>
                 
         <li>The "Link" header MUST be provided and MUST have a link
                      with the "original" Relation Type that has the URI-R of the
                      stable resource itself as Target IRI.
         </li>
               
      </ul>
      <div><a name="rfc.section.4.3.p.4"></a></div>
      <p><a href="#Pattern3-Response1">Figure&nbsp;17</a> shows a response to
                 an HTTP HEAD request for the resource with URI-R
                 http://a.example.org/ that has been stable since March 20,
                 2009.
               
      </p>
      <div><a name="Pattern3-Response1"></a></div>
      <div><a name="rfc.figure.17"></a></div>   
              <pre>HTTP/1.1 200 OK
Date: Thu, 21 Jan 2010 00:09:40 GMT
Server: Apache-Coyote/1.1
Memento-Datetime: Fri, 20 Mar 2009 11:00:00 GMT
Link: &lt;http://a.example.org/&gt;; rel="original"
Content-Length: 875
Content-Type: text/html;charset=utf-8
Connection: close
</pre>  
            <p class="figure">Figure 17: Response from URI-R=URI-M for Pattern 3</p>
      <h2><a name="rfc.section.4.4">4.4</a>&nbsp;
         
         <a name="Pattern4">Pattern 4 - Mementos without a TimeGate</a></h2>
      <div><a name="rfc.section.4.4.p.1"></a></div>
      <p>
                 Cases may occur in which a server hosts Mementos but does not
                 expose a TimeGate for them.  This can, for example, be the
                 case if the server's Mementos result from taking a snapshot of
                 the state of a set of Original Resources from another server
                 as it is being retired.  As a result, only a single Memento
                 per Original Resource is hosted, making the introduction of a
                 TimeGate unnecessary. But it may also be the case for servers
                 that host multiple Mementos for an Original Resource but
                 consider exposing TimeGates too expensive. In this case, URI-R
                 and URI-M are distinct, but a TimeGate is absent. This case is
                 summarized in the below table.
               
      </p>
      <table summary="" border="1" cellpadding="3" cellspacing="0">
         <thead>
            <tr>
               <th valign="top" style="text-align: center;">Pattern</th>
               <th valign="top" style="text-align: center;">Original Resource</th>
               <th valign="top" style="text-align: center;">TimeGate</th>
               <th valign="top" style="text-align: center;">Memento</th>
               <th valign="top" style="text-align: center;">Negotiation Style</th>
            </tr>
         </thead>
         <tbody>
            <tr>
               <td class="top" style="text-align: center;">Pattern 4
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-R
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">-
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">URI-M
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">-
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
         </tbody>
      </table>
      <div><a name="rfc.section.4.4.p.2"></a></div>
      <p>Servers that host such Mementos without TimeGates can still
                 support the Memento framework by providing the appropriate
                 Memento headers and links. Their use is as follows for a
                 response from URI-M:
               
      </p>
      <div><a name="rfc.section.4.4.p.3"></a></div>
      <ul>
                 
         <li>A "Vary" header that includes an "accept-datetime" value
                    MUST NOT be provided.
         </li>
                 
         <li>The response MUST include a "Memento-Datetime" header. Its
                    value expresses the archival datetime of the Memento.
         </li>
                 
         <li>The "Link" header MUST be provided, and it MUST have a link
                      with the "original" Relation Type that has the URI-R of the
                      associated Original Resource as Target IRI.  The provision
                      of other links is encouraged and is subject to the
                      considerations described
                      in <a href="#Link-Header-Relation-Types" title="Link Relation Types">Section&nbsp;2.2</a>.
         </li>
               
      </ul>
      <div><a name="rfc.section.4.4.p.4"></a></div>
      <p><a href="#Pattern4-Response1">Figure&nbsp;18</a> shows a response to
                 an HTTP HEAD request for the Memento with URI-M
                 http://arxiv.example.net/web/20010321203610/http://a.example.org/.
                 Note the use of links: three links have the URI-M of the
                 Memento as Target IRI and have respective Relation Types
                 "memento", "first", and "last". This combination indicates
                 that this is the only Memento for the Original Resource with
                 Target IRI provided by the "original" link
                 (http://a.example.org/) of which the server is aware. Note also
                 that such a response does not imply that there is no server
                 whatsoever that exposes a TimeGate; it merely means that the
                 responding server neither provides nor is aware of the
                 location of a TimeGate.
               
      </p>
      <div><a name="Pattern4-Response1"></a></div>
      <div><a name="rfc.figure.18"></a></div>   
              <pre>HTTP/1.1 200 OK
Date: Thu, 21 Jan 2010 00:09:40 GMT
Server: Apache-Coyote/1.1
Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT
Link: &lt;http://a.example.org/&gt;; rel="original",
 &lt;http://arxiv.example.net/web/20010321203610/http://a.example.org/&gt;
   ; rel="first last memento"
   ; datetime="Wed, 21 Mar 2001 20:36:10 GMT"
Content-Length: 25532
Content-Type: text/html;charset=utf-8
Connection: close
</pre>  
            <p class="figure">Figure 18: Response from URI-M&lt;&gt;URI-R for Pattern 4</p>
      <h2><a name="rfc.section.4.5">4.5</a>&nbsp;
         
         <a name="SpecialCases">Special Cases</a></h2>
      <h3><a name="rfc.section.4.5.1">4.5.1</a>&nbsp;
         
         <a name="SpecialCases-OR-nolink">Original Resource Provides No "timegate" Link</a></h3>
      <div><a name="rfc.section.4.5.1.p.1"></a></div>
      <p>
                 Cases exist in which the response from the Original Resource
                 does not contain a "timegate" link, including:
      </p>
      <div><a name="rfc.section.4.5.1.p.2"></a></div>
      <ul>
                 
         <li>The Original Resource's server does not support the Memento
                    framework;
         </li>
                 
         <li>The Original Resource no longer exists, and the responding
                    server is not aware of its prior existence;
         </li>
                 
         <li>The server that hosted the Original Resource no longer exists.</li>       
               
      </ul>
      <div><a name="rfc.section.4.5.1.p.3"></a></div>
      <p>In all these cases, the user agent should attempt to
                 determine an appropriate TimeGate for the Original Resource,
                 either automatically or interactively supported by the
                 user.
      </p>
      <h3><a name="rfc.section.4.5.2">4.5.2</a>&nbsp;
         
         <a name="SpecialCases-OR">Server Exists but Original Resource No Longer Does</a></h3>
      <div><a name="rfc.section.4.5.2.p.1"></a></div>
      <p>
                   Cases exist in which the server knows that an Original
                   Resource used to exist, but no longer provides a current
                   representation. If there is a preferred TimeGate for such a
                   discontinued Original Resource, then the server MUST include
                   a "timegate" link in responses to requests for it.  This may
                   allow access to Mementos for the Original Resource even if
                   it no longer exists.  A server's response to a request for
                   the discontinued resource http://a.example.org/pic is
                   illustrated in <a href="#SpecialCases-OR-404">Figure&nbsp;19</a>.
                 
      </p>
      <div><a name="SpecialCases-OR-404"></a></div>
      <div><a name="rfc.figure.19"></a></div>
                <pre>HTTP/1.1 404 Not Found
Date: Thu, 21 Jan 2010 00:02:12 GMT
Server: Apache
Link: 
 &lt;http://arxiv.example.net/timegate/http://a.example.org/pic&gt; 
  ; rel="timegate"
Content-Length: 255
Content-Type: text/html; charset=iso-8909-1
Connection: close


</pre>
              <p class="figure">Figure 19: Response from an Original Resource That No Longer Exists</p>
      <h3><a name="rfc.section.4.5.3">4.5.3</a>&nbsp;
         
         <a name="SpecialCases-AD">Issues with Accept-Datetime</a></h3>
      <div><a name="rfc.section.4.5.3.p.1"></a></div>
      <p>The following special cases may occur regarding the "Accept-Datetime" header when a user agent issues a request 
                 against a TimeGate:
      </p>
      <div><a name="rfc.section.4.5.3.p.2"></a></div>
      <ul>
                   
         <li>If the value of the "Accept-Datetime" is either earlier
                        than the datetime of the first Memento or later than the
                        datetime of the most recent Memento known to the TimeGate,
                        the first or most recent Memento MUST be selected,
                        respectively.
         </li>
                   
         <li>
                        If the value of the "Accept-Datetime" does not conform to
                        the rfc1123-date construction rule of the BNF
                        in <a href="#datetime-BNF">Figure&nbsp;1</a>, the response MUST
                        have a "400 Bad Request" HTTP status code.
                      
         </li> 
                   
         <li>
                        If a user agent issues a request against a TimeGate and
                        fails to include an "Accept-Datetime" request header, the
                        most recent Memento SHOULD be selected.
                      
         </li>       
                 
      </ul>
      <div><a name="rfc.section.4.5.3.p.3"></a></div>
      <p>In all cases, the use of headers and links in responses is
                   as described for TimeGates in the respective scenarios.
      </p>
      <h3><a name="rfc.section.4.5.4">4.5.4</a>&nbsp;
         
         <a name="SpecialCase-M-3XX">Memento of a 3XX Response</a></h3>
      <div><a name="rfc.section.4.5.4.p.1"></a></div>
      <p>Cases exist in which HTTP responses with 3XX status codes
                   are archived.  For example, crawl-based Web archives
                   commonly archive responses with HTTP status codes "301 Moved
                   Permanently" and "302 Found", whereas Linked Data archives
                   hold on to "303 See Other" responses.
      </p>
      <div><a name="rfc.section.4.5.4.p.2"></a></div>
      <p>If the Memento requested by the user agent is an archived
                   version of an HTTP response with a 3XX status code, the
                   server's response MUST have the same 3XX HTTP status
                   code. The use of other Memento headers is as described for
                   Mementos in the respective scenarios.
      </p>
      <div><a name="rfc.section.4.5.4.p.3"></a></div>
      <p>The user agent's handling of an HTTP response with a 3XX
                   status code is not affected by the presence of a
                   "Memento-Datetime" header.  The user agent MUST behave in
                   the same manner as it does with HTTP responses with a 3XX
                   status code that do not have a "Memento-Datetime"
                   header.
      </p>
      <div><a name="rfc.section.4.5.4.p.4"></a></div>
      <p>However, the user agent MUST be aware that the URI that was
                   selected from the "Location" header of an HTTP response with
                   a 3XX status code might not be that of a Memento but rather
                   of an Original Resource. In the latter case, it SHOULD
                   proceed by looking for a Memento of the selected Original
                   Resource.
      </p>
      <div><a name="rfc.section.4.5.4.p.5"></a></div>
      <p>For
                   example, <a href="#SpecialCase-M-3XX-Response1">Figure&nbsp;20</a>
                   shows the response to an HTTP GET request for
                   http://a.example.org issued on April 11, 2008. This response
                   is archived as a Memento of http://a.example.org that has as
                   URI-M
                   http://arxiv.example.net/web/20080411000650/http://a.example.org.
                   The response to an HTTP GET on this URI-M is shown
                   in <a href="#SpecialCase-M-3XX-Response2">Figure&nbsp;21</a>.  It
                   is a replay of the original response with "Memento-Datetime"
                   and "Link" headers added, to allow a user agent to
                   understand the response is a Memento.
                   In <a href="#SpecialCase-M-3XX-Response2">Figure&nbsp;21</a>, the
                   value of the "Location" header is the same as in the
                   original response; it identifies an Original Resource.  The
                   user agent proceeds with finding a Memento for this Original
                   Resource.  Web archives sometimes overwrite the value that
                   was originally provided in the "Location" header in order to
                   point at a Memento they hold of the resource to which the
                   redirect originally led.  This is shown
                   in <a href="#SpecialCase-M-3XX-Response3">Figure&nbsp;22</a>.  In
                   this case, the user agent may decide it found an appropriate
                   Memento.
                 
      </p>
      <div><a name="SpecialCase-M-3XX-Response1"></a></div>
      <div><a name="rfc.figure.20"></a></div>       
                <pre>HTTP/1.1 301 Moved Permanently
Date: Fri, 11 Apr 2008 00:06:50 GMT
Server: Apache
Location: http://b.example.org
Content-Length: 0
Content-Type: text/plain; charset=UTF-8
Connection: close
</pre>         
              <p class="figure">Figure 20: Response Is a Redirect</p>
      <div><a name="SpecialCase-M-3XX-Response2"></a></div>
      <div><a name="rfc.figure.21"></a></div>       
                <pre>HTTP/1.1 301 Moved Permanently
Date: Thu, 21 Jan 2010 00:09:40 GMT
Server: Apache-Coyote/1.1
Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT
Location: http://b.example.org
Link: &lt;http://a.example.org&gt;; rel="original",
 &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;
   ; rel="timemap"; type="application/link-format", 
 &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;
   ; rel="timegate"
Content-Length: 0
Content-Type: text/plain; charset=UTF-8
Connection: close
</pre>         
              <p class="figure">Figure 21: Response is a Memento of a Redirect; Leads to an Original Resource</p>
      <div><a name="SpecialCase-M-3XX-Response3"></a></div>
      <div><a name="rfc.figure.22"></a></div>       
                <pre>HTTP/1.1 301 Moved Permanently
Date: Thu, 21 Jan 2010 00:09:40 GMT
Server: Apache-Coyote/1.1
Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT
Location: 
 http://arxiv.example.net/web/20080411000655/http://b.example.org
Link: &lt;http://a.example.org&gt;; rel="original",
 &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;
   ; rel="timemap"; type="application/link-format", 
 &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;
   ; rel="timegate"
Content-Length: 0
Content-Type: text/plain; charset=UTF-8
Connection: close
</pre>         
              <p class="figure">Figure 22: Response is a Memento of a Redirect; Leads to a Memento</p>
      <h3><a name="rfc.section.4.5.5">4.5.5</a>&nbsp;
         
         <a name="SpecialCases-M-4XX">Memento of Responses with 4XX or 5XX HTTP Status Codes</a></h3>
      <div><a name="rfc.section.4.5.5.p.1"></a></div>
      <p>Cases exist in which responses with 4XX and 5XX HTTP status
                   codes are archived.  If the Memento requested by the user
                   agent is an archived version of such an HTTP response, the
                   server's response MUST have the same 4XX or 5XX HTTP status
                   code. The use of headers and links in responses is as
                   described for Mementos in the respective scenarios.
      </p>
      <div><a name="rfc.section.4.5.5.p.2"></a></div>
      <p>For
                   example, <a href="#SpecialCases-M-4XX-Response1">Figure&nbsp;23</a>
                   shows the 404 response to an HTTP GET request for
                   http://a.example.org issued on April 11, 2008. This response
                   is archived as a Memento of http://a.example.org that has
                   as URI-M
                   http://arxiv.example.net/web/20080411000650/http://a.example.org.
                   The response to an HTTP HEAD on this URI-M is shown
                   in <a href="#SpecialCases-M-4XX-Response2">Figure&nbsp;24</a>.  It
                   is a replay of the original response with "Memento-Datetime"
                   and "Link" headers added, to allow a user agent to
                   understand the response is a Memento.
      </p>
      <div><a name="SpecialCases-M-4XX-Response1"></a></div>
      <div><a name="rfc.figure.23"></a></div>       
                <pre>HTTP/1.1 404 Not Found
Date: Fri, 11 Apr 2008 00:06:50 GMT
Server: Apache
Content-Length: 255
Content-Type: text/plain; charset=UTF-8
Connection: close
</pre>         
              <p class="figure">Figure 23: Response Is a 404</p>
      <div><a name="SpecialCases-M-4XX-Response2"></a></div>
      <div><a name="rfc.figure.24"></a></div>       
                <pre>HTTP/1.1 404 Not Found
Date: Thu, 21 Jan 2010 00:09:40 GMT
Server: Apache-Coyote/1.1
Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT
Link: &lt;http://a.example.org&gt;; rel="original",
 &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;
   ; rel="timemap"; type="application/link-format", 
 &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;
   ; rel="timegate"
Content-Length: 255
Content-Type: text/plain; charset=UTF-8
Connection: close
</pre>         
              <p class="figure">Figure 24: Response Is a Memento of a 404</p>
      <h3><a name="rfc.section.4.5.6">4.5.6</a>&nbsp;
         
         <a name="SpecialCases-Sticky">Sticky "Memento-Datetime" and "original" Link for Mementos</a></h3>
      <div><a name="rfc.section.4.5.6.p.1"></a></div>
      <p>A response to an HTTP HEAD/GET request issued against a Memento:</p>
      <div><a name="rfc.section.4.5.6.p.2"></a></div>
      <ul>
                   
         <li>Includes a "Memento-Datetime" header that entails a
                        promise that the response is archived, frozen in time. The
                        value of the header expresses the archival datetime of the
                        Memento.
         </li>
                   
         <li>Includes a link in the HTTP "Link" header with an
                        "original" Relation Type that unambiguously points to the
                        Original Resource associated with the Memento. The Target
                        IRI of the link is the URI-R of that Original
                        Resource.
         </li>
                   
      </ul>
      <div><a name="rfc.section.4.5.6.p.3"></a></div>
      <p>Both the "Memento-Datetime" header and the "original" link MUST be "sticky" in the following ways:</p>
      <div><a name="rfc.section.4.5.6.p.4"></a></div>
      <ul>
                   
                   
         <li>The server that originally assigns them MUST retain them
                      in all responses to HTTP requests (with or without an
                      "Accept-Datetime" request header) that occur against the
                      Memento after the time of their original assignment, and the
                      server MUST NOT change the value of the "Memento-Datetime"
                      header nor the Target IRI of the "original" link.
         </li>
                   
         <li>Applications that mirror Mementos at a different URI MUST
                        retain them and MUST NOT change them unless mirroring
                        involves a meaningful state change.  This allows, among
                        others, duplicating a Web archive at a new location while
                        preserving the value of the "Memento-Datetime" header and
                        the link with the "original" Relation Type for the
                        archived resources. For example, when mirroring, the
                        "Last-Modified" header will be updated to reflect the time
                        of mirroring at the new URI, whereas the value for
                        "Memento-Datetime" will be maintained.
         </li>
                   
                   
      </ul>
      <h3><a name="rfc.section.4.5.7">4.5.7</a>&nbsp;
         
         <a name="SpecialCases-Intermediate">Intermediate Resources</a></h3>
      <div><a name="rfc.section.4.5.7.p.1"></a></div>
      <p>
                   An intermediate resource is a resource that issues a
                   redirect to a TimeGate, to a Memento, or to another
                   intermediate resource, and thus plays an active role in the
                   Memento infrastructure. Intermediate resources commonly
                   exist in Web archives on the path from a TimeGate to an
                   appropriate Memento.
                 
      </p>
      <div><a name="rfc.section.4.5.7.p.2"></a></div>
      <p>A response of an intermediate resource has an HTTP status
                   code indicative of HTTP redirection (e.g., 302) and uses
                   Memento headers and links that allow user agents to recognize that the
                   resource plays a role in the Memento framework:
         
         
         
         
      </p>
      <div><a name="rfc.section.4.5.7.p.3"></a></div>
      <ul>
                   
         <li>A "Vary" header that includes an "accept-datetime" value
                      MUST NOT be provided.
         </li>
                   
         <li>The response MUST NOT include a "Memento-Datetime" header.</li>
                   
         <li>The "Link" header MUST be provided, and it MUST have a
                        link with the "original" Relation Type that has the URI-R
                        of the associated Original Resource as Target IRI.  Links
                        with "timegate", "timemap", and "memento" Relation Types
                        are OPTIONAL and, if provided, MUST pertain to the
                        Original Resource for which the user agent is trying to
                        obtain a Memento.
         </li>
                 
      </ul>
      <div><a name="rfc.section.4.5.7.p.4"></a></div>
      <p>
                   A user agent MUST follow a redirection provided by an
                   intermediate resource; multiple such redirections can be
                   chained.
                 
      </p>
      <div><a name="rfc.section.4.5.7.p.5"></a></div>
      <p>Consider the case where a user agent follows the "timegate"
                   link provided in <a href="#Pattern2-Response1">Figure&nbsp;10</a>
                   and engages in datetime negotiation with the assumed
                   TimeGate in the manner shown in
                   <a href="#Pattern2-Request2">Figure&nbsp;11</a>. But instead of
                   receiving a response as shown in
                   <a href="#Pattern2.1-Response1">Figure&nbsp;12</a>, it receives the one shown below in <a href="#Pattern5-Response1">Figure&nbsp;25</a>. 
                   Such a response is unambiguously recognizable as coming from an intermediate resource. 
                 
      </p>
      <div><a name="Pattern5-Response1"></a></div>
      <div><a name="rfc.figure.25"></a></div>  
                <pre>HTTP/1.1 302 Found
Date: Thu, 21 Jan 2010 00:06:50 GMT
Server: Apache
Location: 
 http://arxiv.example.net/new-timegate/http://a.example.org/
Link: &lt;http://a.example.org&gt;; rel="original"
Content-Length: 0
Content-Type: text/plain; charset=UTF-8
Connection: close
</pre>
              <p class="figure">Figure 25: Redirecting Resource Redirects to a TimeGate</p>
      <h3><a name="rfc.section.4.5.8">4.5.8</a>&nbsp;
         
         <a name="SpecialCases-donotnegotiate">Resources Excluded from Datetime Negotiation</a></h3>
      <div><a name="rfc.section.4.5.8.p.1"></a></div>
      <p>
                   When delivering a Memento to a user agent, a Web archive
                   commonly enhances that Memento's archived content, for
                   example, by including a banner that provides branding and
                   highlights the archival status of the Memento. The resources
                   that are involved in providing such system-specific
                   functionality, many times JavaScript or images, must be used
                   in their current state.
                 
      </p>
      <div><a name="rfc.section.4.5.8.p.2"></a></div>
      <p>A server that generally supports datetime negotiation
                   should make resources that need to be excluded from datetime
                   negotiation recognizable. Doing so allows a user agent to
                   refrain from attempting to access a Memento for them. In
                   order to achieve this, the server SHOULD include a
                   special-purpose link in the HTTP "Link" header when
                   responding to an HTTP HEAD/GET request to a resource excluded
                   from datetime negotiation. This link has
                   "http://mementoweb.org/terms/donotnegotiate" as Target IRI
                   and "type", defined in <a href="#RFC6903" title="Additional Link Relation Types">[RFC6903]</a>, as
                   the value of the "rel" attribute.  Other Memento headers as
                   defined in <a href="#HTTP_Headers" title="HTTP Headers">Section&nbsp;2.1</a> SHOULD NOT be provided.
      </p>
      <div><a name="rfc.section.4.5.8.p.3"></a></div>
      <p><a href="#donotnegotiate">Figure&nbsp;26</a> shows the response to an HTTP HEAD request from a 
                   resource excluded from datetime negotiation.
      </p>
      <div><a name="donotnegotiate"></a></div>
      <div><a name="rfc.figure.26"></a></div>  
                <pre>HTTP/1.1 200 OK
Date: Thu, 21 Jan 2010 00:09:40 GMT
Server: Apache-Coyote/1.1
Link: &lt;http://mementoweb.org/terms/donotnegotiate&gt;; rel="type"
Content-Length: 238
Content-Type: application/javascript; charset=UTF-8
Connection: close
</pre>
              <p class="figure">Figure 26: Response to an HTTP HEAD Request from a Resource Excluded from Datetime Negotiation</p>
        
        
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1><a name="rfc.section.5">5</a>&nbsp;
         
         <a name="Pattern6">TimeMaps: Content and Serialization</a></h1>
      <div><a name="rfc.section.5.p.1"></a></div>
      <p>A TimeMap is introduced to support retrieving a comprehensive
               list of all Mementos for a specific Original Resource known to a
               server.  The entity-body of a response to an HTTP GET request
               issued against a TimeMap's URI-T:
      </p>
      <div><a name="rfc.section.5.p.2"></a></div>
      <ul>
               
         <li>MUST list the URI-R of the Original Resource that the TimeMap is about;</li>
               
         <li>MUST list the URI-M and archival datetime of each Memento for
                    the Original Resource known to the server, preferably in a
                    single document, or, alternatively in multiple documents that
                    can be gathered by following contained links with a "timemap"
                    Relation Type;
                  
         </li>   
               
         <li>SHOULD list the URI-G of one or more TimeGates for the
                  Original Resource known to the responding server;
         </li>
               
         <li>SHOULD, for self-containment, list the URI-T of the TimeMap itself;</li>
               
         <li>MUST unambiguously type listed resources as being Original Resource, TimeGate, Memento, or TimeMap.</li>
             
      </ul>
      <div><a name="rfc.section.5.p.3"></a></div>
      <p>
               The entity-body of a response from a TimeMap MAY be serialized
               in various ways, but the link-value format serialization
               described here MUST be supported.  In this serialization, the
               entity-body MUST be formatted in the same way as the value of an
               HTTP "Link" header, and hence MUST comply to the "link-value"
               construction rule of <a href="#Pattern6" title="TimeMaps: Content and Serialization">Section&nbsp;5</a>. The Link header field
               of <a href="#RFC5988" title="Web Linking">[RFC5988]</a>, and the media type of the
               entity-body MUST be "application/link-format" as introduced in
               <a href="#RFC6690" title="Constrained RESTful Environments (CoRE) Link Format">[RFC6690]</a>. Links contained in the entity-body MUST be interpreted as follows:
      </p>
      <div><a name="rfc.section.5.p.4"></a></div>
      <ul>
               
         <li>The Context IRI is set to the anchor parameter, when
                  specified;
         </li>
               
         <li>The Context IRI of links with the "self" Relation Types is the URI-T of the TimeMap, i.e., the URI of the resource from which
            the TimeMap was requested;
         </li>
               
         <li>The Context IRI of all other links is the URI-R of the Original Resource, 
                    which is provided as the Target IRI of the link with an "original" Relation Type.
         </li>
             
      </ul>
      <div><a name="rfc.section.5.p.5"></a></div>
      <p>
               In order to retrieve the link-value serialization of a TimeMap,
               a user agent uses an "Accept" request header with a value set to
               "application/link-format".  This is shown
               in <a href="#Pattern6-Request1">Figure&nbsp;27</a>.
             
      </p>
      <div><a name="Pattern6-Request1"></a></div>
      <div><a name="rfc.figure.27"></a></div>  
            <pre>GET /timemap/http://a.example.org/ HTTP/1.1
Host: arxiv.example.net
Accept: application/link-format;q=1.0
Connection: close
</pre> 
          <p class="figure">Figure 27: Request for a TimeMap</p>
      <div><a name="rfc.section.5.p.7"></a></div>
      <p>If the TimeMap requested by the user agent exists, the server's
               response has a "200 OK" HTTP status code and the list of
               Mementos is provided in the entity-body of the response. Such a
               response is shown in <a href="#Pattern6-Response1">Figure&nbsp;28</a>.
             
      </p>
      <div><a name="Pattern6-Response1"></a></div>
      <div><a name="rfc.figure.28"></a></div>   
            <pre>HTTP/1.1 200 OK
Date: Thu, 21 Jan 2010 00:06:50 GMT
Server: Apache
Content-Length: 4883
Content-Type: application/link-format
Connection: close

 &lt;http://a.example.org&gt;;rel="original",
 &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;
   ; rel="self";type="application/link-format"
   ; from="Tue, 20 Jun 2000 18:02:59 GMT"
   ; until="Wed, 09 Apr 2008 20:30:51 GMT",
 &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;
   ; rel="timegate",
 &lt;http://arxiv.example.net/web/20000620180259/http://a.example.org&gt;
   ; rel="first memento";datetime="Tue, 20 Jun 2000 18:02:59 GMT"
   ; license="http://creativecommons.org/publicdomain/zero/1.0/", 
 &lt;http://arxiv.example.net/web/20091027204954/http://a.example.org&gt;
    ; rel="last memento";datetime="Tue, 27 Oct 2009 20:49:54 GMT"
    ; license="http://creativecommons.org/publicdomain/zero/1.0/",
 &lt;http://arxiv.example.net/web/20000621011731/http://a.example.org&gt;
   ; rel="memento";datetime="Wed, 21 Jun 2000 01:17:31 GMT"
   ; license="http://creativecommons.org/publicdomain/zero/1.0/",
 &lt;http://arxiv.example.net/web/20000621044156/http://a.example.org&gt;
   ; rel="memento";datetime="Wed, 21 Jun 2000 04:41:56 GMT"
   ; license="http://creativecommons.org/publicdomain/zero/1.0/",
 ...
</pre>   
          <p class="figure">Figure 28: Response from a TimeMap</p>
      <h2><a name="rfc.section.5.1">5.1</a>&nbsp;
         
         <a name="TimeMaps-SpecialCases">Special Cases</a></h2>
      <h3><a name="rfc.section.5.1.1">5.1.1</a>&nbsp;
         
         <a name="Pattern6-IP">Index and Paging TimeMaps</a></h3>
      <div><a name="rfc.section.5.1.1.p.1"></a></div>
      <p>Cases exist in which a TimeMap points at one or more other TimeMaps:</p>
      <div><a name="rfc.section.5.1.1.p.2"></a></div>
      <ul>
               
         <li>Index TimeMap - A TimeMap can merely point at other TimeMaps
                    and not list any Mementos itself.  This can happen when
                    Mementos are spread across several archives that share a
                    front-end.  An example is shown
                    in <a href="#TimeMap-index">Figure&nbsp;29</a>.
         </li>
               
         <li>Paging TimeMap - The number of available Mementos can require
                    introducing multiple TimeMaps that can be paged. An example is
                    shown in <a href="#TimeMap-paging">Figure&nbsp;30</a>.  Note that a
                    Paging TimeMap contains links to other TimeMaps but actually
                    also lists Mementos.
         </li>
             
      </ul>
      <div><a name="rfc.section.5.1.1.p.3"></a></div>
      <p>In both cases, including the "from" and "until" attributes for
               "timemap" links is RECOMMENDED as a means to express the
               temporal span of Mementos listed in each TimeMap. Note that
               TimeMaps obtained by following a "timemap" link can contain
               links to further TimeMaps.
      </p>
      <div><a name="TimeMap-index"></a></div>
      <div><a name="rfc.figure.29"></a></div>   
            <pre>&lt;http://a.example.org&gt;;rel="original",
 &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;
   ; rel="timegate",
 &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;
   ; rel="self";type="application/link-format",
 &lt;http://arxiv1.example.net/timemap/http://a.example.org&gt;
   ; rel="timemap";type="application/link-format"
   ; from="Wed, 21 Jun 2000 04:41:56 GMT"
   ; until="Wed, 09 Apr 2008 20:30:51 GMT",
 &lt;http://arxiv2.example.net/timemap/http://a.example.org&gt;
   ; rel="timemap";type="application/link-format"
   ; from="Thu, 10 Apr 2008 20:30:51 GMT"
   ; until="Tue, 27 Oct 2009 20:49:54 GMT",
 &lt;http://arxiv3.example.net/timemap/http://a.example.org&gt;
   ; rel="timemap";type="application/link-format"
   ; from="Thu, 29 Oct 2009 20:30:51 GMT"
</pre>   
          <p class="figure">Figure 29: Index TimeMap</p>
      <div><a name="TimeMap-paging"></a></div>
      <div><a name="rfc.figure.30"></a></div>   
            <pre>&lt;http://a.example.org&gt;;rel="original",
 &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;
   ; rel="timegate",
 &lt;http://arxiv.example.net/timemap/1/http://a.example.org&gt;
   ; rel="self";type="application/link-format"
   ; from="Tue, 20 Jun 2000 18:02:59 GMT"
   ; until="Wed, 09 Apr 2008 20:30:51 GMT",
 &lt;http://arxiv.example.net/timemap/2/http://a.example.org&gt;
   ; rel="timemap";type="application/link-format"
   ; from="Thu, 10 Apr 2008 20:30:51 GMT"
   ; until="Tue, 27 Oct 2009 20:49:54 GMT",
 &lt;http://arxiv.example.net/timemap/3/http://a.example.org&gt;
   ; rel="timemap";type="application/link-format"
   ; from="Thu, 29 Oct 2009 20:30:51 GMT"
   ; until="Fri, 31 Aug 2012 12:22:34 GMT"
 &lt;http://arxiv.example.net/web/20000620180259/http://a.example.org&gt;
   ; rel="memento";datetime="Tue, 20 Jun 2000 18:02:59 GMT", 
 &lt;http://arxiv.example.net/web/20000621011731/http://a.example.org&gt;
   ; rel="memento";datetime="Wed, 21 Jun 2000 01:17:31 GMT",
 &lt;http://arxiv.example.net/web/20000621044156/http://a.example.org&gt;
   ; rel="memento";datetime="Wed, 21 Jun 2000 04:41:56 GMT",
 ...
</pre>   
          <p class="figure">Figure 30: Paging TimeMap</p>
      <h3><a name="rfc.section.5.1.2">5.1.2</a>&nbsp;
         
         <a name="Special-TM">Mementos for TimeMaps</a></h3>
      <div><a name="rfc.section.5.1.2.p.1"></a></div>
      <p>A TimeMap itself can act as an Original Resource for which a
                 TimeGate and Mementos may exist. Hence, the response from a
                 TimeMap could include a "timegate" link to a TimeGate via
                 which prior TimeMap versions are available. And, in cases
                 where URI-T=URI-R=URI-G (a TimeMap is an Original Resource
                 that acts as its own TimeGate), an "original" link pointing at
                 the TimeMap URI-T would be included.
      </p>
      <div><a name="rfc.section.5.1.2.p.2"></a></div>
      <p>Therefore, caution is required in cases where a TimeMap for
                 an Original Resource wants to explicitly express in a "Link"
                 header for which Original Resource it is a TimeMap. It can do
                 so by including a "timemap" link that has the URI-R of the
                 Original Resource as Context IRI and the URI-T of the TimeMap
                 as Target IRI. 
      </p>
      <div><a name="rfc.section.5.1.2.p.3"></a></div>
      <p>
                 <a href="#SpecialCases-TM-Response1">Figure&nbsp;31</a> shows the
                 response to an HTTP HEAD request against a TimeMap that has
                 http://arxiv.example.net/timemap/http://a.example.org as
                 URI-T.  This TimeMap provides information about Mementos for
                 the Original Resource that has http://a.example.org as URI-R.
                 The response includes an "original" link pointing to the
                 Original Resource that this TimeMap is about. Note the use of
                 the "anchor" attribute in this link to convey the URI-R of
                 that Original Resource.
               
      </p>
      <div><a name="SpecialCases-TM-Response1"></a></div>
      <div><a name="rfc.figure.31"></a></div>   
              <pre>HTTP/1.1 200 OK
Date: Thu, 21 Jan 2010 00:06:50 GMT
Server: Apache
Link: &lt;http://arxiv.example.net/timemap/http://a.example.org&gt; 
          ; anchor="http://a.example.org"; rel="timemap"
          ; type="application/link-format"
Content-Length: 0
Content-Type: application/link-format; charset=UTF-8
Connection: close
</pre>   
            <p class="figure">Figure 31: TimeMap Links to the Original Resource It Is about</p>
        
        
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1><a name="rfc.section.6">6</a>&nbsp;
         
         <a name="IANA">IANA Considerations</a></h1>
      <h2><a name="rfc.section.6.1">6.1</a>&nbsp;
         
         <a name="headers">HTTP Headers</a></h2>
      <div><a name="rfc.section.6.1.p.1"></a></div>
      <p>
               IANA has registered the "Accept-Datetime" and
               "Memento-Datetime" HTTP headers (defined in
               <a href="#Accept-Memento-Datetime" title="Accept-Datetime and Memento-Datetime">Section&nbsp;2.1.1</a>) in the "Permanent
               Message Header Field Names" registry:
             
      </p>
      <div><a name="rfc.section.6.1.p.2"></a></div>
      <ul>
                 
         <li>Header field name: Accept-Datetime</li>
                 
         <li>Applicable protocol: "http" (RFC 2616)</li>
                 
         <li>Status: informational</li>
                 
         <li>Author/Change controller: Herbert Van de Sompel, Los Alamos National
            Laboratory, hvdsomp@gmail.com
         </li>
                 
         <li>Specification document(s): this document</li>
               
      </ul>
      <div><a name="rfc.section.6.1.p.3"></a></div>
      <ul>
                 
         <li>Header field name: Memento-Datetime</li>
                 
         <li>Applicable protocol: "http" (RFC 2616)</li>
                 
         <li>Status: informational</li>
                 
         <li>Author/Change controller: Herbert Van de Sompel, Los Alamos National Laboratory, hvdsomp@gmail.com</li>
                 
         <li>Specification document(s): this document</li>
         
               
      </ul>
      <h2><a name="rfc.section.6.2">6.2</a>&nbsp;
         
         <a name="links">Link Relation Types</a></h2>
      <div><a name="rfc.section.6.2.p.1"></a></div>
      <p>
               IANA has registered the Relation Types "original",
               "timegate", "timemap", and "memento"
               (defined in <a href="#Link-Header-Relation-Types" title="Link Relation Types">Section&nbsp;2.2</a>) in the
               "Link Relation Types" registry:
             
      </p>
      <div><a name="rfc.section.6.2.p.2"></a></div>
      <ul>
         
                 
         <li>Relation Name: original</li>
                 
         <li>Description: The Target IRI points to an Original Resource.</li>
                 
         <li>Reference: this document</li>
                 
         <li>Notes: An Original Resource is a resource that exists or
                    used to exist, and for which access to one of its prior states
                    may be required.
         </li>
               
      </ul>
      <div><a name="rfc.section.6.2.p.3"></a></div>
      <ul>
                 
         <li>Relation Name: timegate</li>
                 
         <li>Description: The Target IRI points to a TimeGate
                    for an Original Resource.
         </li>
                 
         <li>Reference: this document</li>
                 
         <li>Notes: A TimeGate for an Original Resource is a resource that is
                    capable of datetime negotiation to support access to prior states of
                    the Original Resource.
         </li>
               
      </ul>
      <div><a name="rfc.section.6.2.p.4"></a></div>
      <ul>
                 
         <li>Relation Name: timemap</li>
                 
         <li>Description: The Target IRI points to a TimeMap for an
                    Original Resource.
         </li>
                 
         <li>Reference: this document</li>
                 
         <li>Notes: A TimeMap for an Original Resource is a resource from which
                    a list of URIs of Mementos of the Original Resource is available.
         </li>
               
      </ul>
      <div><a name="rfc.section.6.2.p.5"></a></div>
      <ul>
                 
         <li>Relation Name: memento</li>
                 
         <li>Description: The Target IRI points to a Memento,
                    a fixed resource that will not change state anymore.
         </li>
                 
         <li>Reference: this document</li>
                 
         <li>Notes:  A Memento for an Original Resource is a
                    resource that encapsulates a prior state of the Original Resource.
         </li>
         
               
      </ul>
      
      
          
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1><a name="rfc.section.7">7</a>&nbsp;
         
         <a name="Security">Security Considerations</a></h1>
      <div><a name="rfc.section.7.p.1"></a></div>
      <p>Provision of a "timegate" HTTP "Link" header in responses to requests
                 for an Original Resource that is protected (e.g., 401 or 403 HTTP
                 response codes) is OPTIONAL. The inclusion of this Link when
                 requesting authentication is at the server's discretion; cases may
                 exist in which a server protects the current state of a resource,
                 but supports open access to prior states and thus chooses to
                 supply this HTTP "Link" header.
         
         
         
           Conversely, the server may
                 choose to not advertise the TimeGate URIs (e.g., they exist in an
                 intranet archive) for unauthenticated requests.
      </p>
      <div><a name="rfc.section.7.p.2"></a></div>
      <p>The veracity of archives and the relationships between
                 Original Resources and Mementos is beyond the scope of this
                 document.  Even in the absence of malice, it is possible for
                 separate archives to have different Mementos for the same
                 Original Resource at the same datetime if the state of the
                 Original Resource was dependent on the requesting archive's
                 user agent IP address, specific HTTP request headers, and
                 possibly other factors.
      </p>
      <div><a name="rfc.section.7.p.3"></a></div>
      <p>Further authentication, encryption, and other security-related issues are
                 otherwise orthogonal to Memento.
      </p>
      
        
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1><a name="rfc.section.8">8</a>&nbsp;
         
         <a name="Acknowledgements">Acknowledgements</a></h1>
      <div><a name="rfc.section.8.p.1"></a></div>
      <p>The Memento effort is funded by the Library of Congress. 
               Many thanks to Kris Carpenter Negulescu, Michael Hausenblas, Erik Hetzner, Larry Masinter, Gordon Mohr, David Rosenthal,
         Ed Summers, 
               James Anderson, Tim Starling, Martin Klein, and Mark Nottingham for feedback.
               Many thanks to Samuel Adams, Scott Ainsworth, Lyudmilla Balakireva, Frank McCown, Harihar Shankar, 
               Brad Tofel, Andrew Jackson, Ahmed Alsum, Mat Kelly, and Ilya Kreymer for implementations that 
               informed the specification.
      </p>
      
      
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1><a name="rfc.references">Normative References</a></h1>
      <table summary="Normative References" border="0" cellpadding="2">
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
             
         <tr>
            <td class="topnowrap"><b><a name="RFC2119">[RFC2119]</a></b></td>
            <td class="top"><a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc2119.txt">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.
            </td>
         </tr>
         <tr>
            <td class="topnowrap"><b><a name="RFC2616">[RFC2616]</a></b></td>
            <td class="top"><a href="mailto:fielding@ics.uci.edu" title="Department of Information and Computer Science">Fielding, R.</a>,&nbsp;<a href="mailto:jg@w3.org" title="World Wide Web Consortium">Gettys, J.</a>,&nbsp;<a href="mailto:mogul@wrl.dec.com" title="Compaq Computer Corporation">Mogul, J.</a>,&nbsp;<a href="mailto:frystyk@w3.org" title="World Wide Web Consortium">Frystyk, H.</a>,&nbsp;<a href="mailto:masinter@parc.xerox.com" title="Xerox Corporation">Masinter, L.</a>,&nbsp;<a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.</a> and <a href="mailto:timbl@w3.org" title="World Wide Web Consortium">T. Berners-Lee</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc2616.txt">Hypertext Transfer Protocol -- HTTP/1.1</a>", RFC&nbsp;2616, June&nbsp;1999.
            </td>
         </tr>
         <tr>
            <td class="topnowrap"><b><a name="RFC5829">[RFC5829]</a></b></td>
            <td class="top">Brown, A.,&nbsp;Clemm, G. and J. Reschke,&nbsp;"<a href="http://www.ietf.org/rfc/rfc5829.txt">Link Relation Types for Simple Version Navigation between Web Resources</a>", RFC&nbsp;5829, April&nbsp;2010.
            </td>
         </tr>
         <tr>
            <td class="topnowrap"><b><a name="RFC5988">[RFC5988]</a></b></td>
            <td class="top">Nottingham, M.,&nbsp;"<a href="http://www.ietf.org/rfc/rfc5988.txt">Web Linking</a>", RFC&nbsp;5988, October&nbsp;2010.
            </td>
         </tr>
         <tr>
            <td class="topnowrap"><b><a name="RFC6690">[RFC6690]</a></b></td>
            <td class="top">Shelby, Z.,&nbsp;"<a href="http://www.ietf.org/rfc/rfc6690.txt">Constrained RESTful Environments (CoRE) Link Format</a>", RFC&nbsp;6690, August&nbsp;2012.
            </td>
         </tr>
         <tr>
            <td class="topnowrap"><b><a name="RFC6903">[RFC6903]</a></b></td>
            <td class="top">Snell, J.,&nbsp;"<a href="http://www.ietf.org/rfc/rfc6903.txt">Additional Link Relation Types</a>", RFC&nbsp;6903, March&nbsp;2013.
            </td>
         </tr>
      </table>
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1><a name="rfc.references.2">Informative References</a></h1>
      <table summary="Informative References" border="0" cellpadding="2">
         
         
         
         
         
         
         
         
         
         
               
         
               
               
               
               
         
             
         <tr>
            <td class="topnowrap"><b><a name="DATED-URI">[DATED-URI]</a></b></td>
            <td class="top">Masinter, L,&nbsp;"The 'tdb' and 'duri' URI schemes, based on dated URIs", Work in&nbsp;Progress, January&nbsp;2012.</td>
         </tr>
         <tr>
            <td class="topnowrap"><b><a name="Fitch">[Fitch]</a></b></td>
            <td class="top">Fitch, K,&nbsp;"<a href="http://ausweb.scu.edu.au/aw03/papers/fitch/paper.html">Web site archiving - an approach to recording every materially different response produced by a website</a>", July&nbsp;2003.
            </td>
         </tr>
         <tr>
            <td class="topnowrap"><b><a name="RFC1123">[RFC1123]</a></b></td>
            <td class="top"><a href="mailto:Braden@ISI.EDU" title="University of Southern California (USC), Information Sciences Institute">Braden, R.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc1123.txt">Requirements for Internet Hosts - Application and Support</a>", STD&nbsp;3, RFC&nbsp;1123, October&nbsp;1989.
            </td>
         </tr>
         <tr>
            <td class="topnowrap"><b><a name="W3C.gen-ont-20090420">[W3C.gen-ont-20090420]</a></b></td>
            <td class="top">Berners-Lee, T,&nbsp;"<a href="http://www.w3.org/2006/gen/ont">Architecture of the World Wide Web</a>", April&nbsp;2009.
            </td>
         </tr>
         <tr>
            <td class="topnowrap"><b><a name="W3C.REC-aww-20041215">[W3C.REC-aww-20041215]</a></b></td>
            <td class="top">Jacobs, I and N Walsh,&nbsp;"<a href="http://www.w3.org/TR/webarch/">Architecture of the World Wide Web</a>", December&nbsp;2004.
            </td>
         </tr>
      </table>
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1><a name="rfc.authors"></a>Author's Addresses
      </h1>
      <table summary="Authors" width="99%" border="0" cellpadding="0" cellspacing="0">
         <tr>
            <td>&nbsp;</td>
            <td>Herbert Van de Sompel</td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>Los Alamos National Laboratory</td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>PO Box 1663<br></td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>Los Alamos, New Mexico&nbsp;87545</td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>USA</td>
         </tr>
         <tr>
            <td class="right"><b>Phone:&nbsp;</b></td>
            <td><a href="tel:+15056671267">+1 505 667 1267</a></td>
         </tr>
         <tr>
            <td class="right"><b>EMail:&nbsp;</b></td>
            <td><a href="mailto:hvdsomp@gmail.com">hvdsomp@gmail.com</a></td>
         </tr>
         <tr>
            <td class="right"><b>URI:&nbsp;</b></td>
            <td><a href="http://public.lanl.gov/herbertv/">http://public.lanl.gov/herbertv/</a></td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td></td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>Michael Nelson</td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>Old Dominion University</td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>Norfolk, Virginia&nbsp;23529</td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>USA</td>
         </tr>
         <tr>
            <td class="right"><b>Phone:&nbsp;</b></td>
            <td><a href="tel:+17576836393">+1 757 683 6393</a></td>
         </tr>
         <tr>
            <td class="right"><b>EMail:&nbsp;</b></td>
            <td><a href="mailto:mln@cs.odu.edu">mln@cs.odu.edu</a></td>
         </tr>
         <tr>
            <td class="right"><b>URI:&nbsp;</b></td>
            <td><a href="http://www.cs.odu.edu/~mln/">http://www.cs.odu.edu/~mln/</a></td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td></td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>Robert Sanderson</td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>Los Alamos National Laboratory</td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>PO Box 1663<br></td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>Los Alamos, New Mexico&nbsp;87545</td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td>USA</td>
         </tr>
         <tr>
            <td class="right"><b>Phone:&nbsp;</b></td>
            <td><a href="tel:+15056655804">+1 505 665 5804</a></td>
         </tr>
         <tr>
            <td class="right"><b>EMail:&nbsp;</b></td>
            <td><a href="mailto:azaroth42@gmail.com">azaroth42@gmail.com</a></td>
         </tr>
         <tr>
            <td class="right"><b>URI:&nbsp;</b></td>
            <td><a href="http://public.lanl.gov/rsanderson/">http://public.lanl.gov/rsanderson/</a></td>
         </tr>
         <tr>
            <td>&nbsp;</td>
            <td></td>
         </tr>
      </table>
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      <h1><a name="rfc.section.A">A</a>&nbsp;
         
         <a name="Appendix">Use of Headers and Relation Types per Pattern</a></h1>
      <table summary="" border="1" cellpadding="3" cellspacing="0">
         <thead>
            <tr>
               <th valign="top" style="text-align: center;">Response Header</th>
               <th valign="top" style="text-align: center;">Pattern</th>
               <th valign="top" style="text-align: center;">Original Resource</th>
               <th valign="top" style="text-align: center;">TimeGate</th>
               <th valign="top" style="text-align: center;">Memento</th>
            </tr>
         </thead>
         <tbody>
            <tr>
               <td class="top" style="text-align: center;">Vary: accept-datetime
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern1.1">Pattern 1.1</a>; <a href="#Pattern1.2">Pattern 1.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern1.3">Pattern 1.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern2.1">Pattern 2.1</a>; <a href="#Pattern2.2">Pattern 2.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern2.3">Pattern 2.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern3">Pattern 3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern4">Pattern 4</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">Memento-Datetime
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern1.1">Pattern 1.1</a>; <a href="#Pattern1.2">Pattern 1.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern1.3">Pattern 1.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern2.1">Pattern 2.1</a>; <a href="#Pattern2.2">Pattern 2.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern2.3">Pattern 2.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern3">Pattern 3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern4">Pattern 4</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">Link
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">rel="original"
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern1.1">Pattern 1.1</a>; <a href="#Pattern1.2">Pattern 1.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern1.3">Pattern 1.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern2.1">Pattern 2.1</a>; <a href="#Pattern2.2">Pattern 2.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern2.3">Pattern 2.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern3">Pattern 3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern4">Pattern 4</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">1
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">rel="timegate"
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern1.1">Pattern 1.1</a>; <a href="#Pattern1.2">Pattern 1.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern1.3">Pattern 1.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern2.1">Pattern 2.1</a>; <a href="#Pattern2.2">Pattern 2.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern2.3">Pattern 2.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern3">Pattern 3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern4">Pattern 4</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">rel="timemap"
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern1.1">Pattern 1.1</a>; <a href="#Pattern1.2">Pattern 1.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern1.3">Pattern 1.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern2.1">Pattern 2.1</a>; <a href="#Pattern2.2">Pattern 2.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern2.3">Pattern 2.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern3">Pattern 3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern4">Pattern 4</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">rel="memento"
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern1.1">Pattern 1.1</a>; <a href="#Pattern1.2">Pattern 1.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern1.3">Pattern 1.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern2.1">Pattern 2.1</a>; <a href="#Pattern2.2">Pattern 2.2</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern2.3">Pattern 2.3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern3">Pattern 3</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
            <tr>
               <td class="top" style="text-align: center;">
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;"><a href="#Pattern4">Pattern 4</a>
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">NA
                  
                  &nbsp;
                  
                  
               </td>
               <td class="top" style="text-align: center;">&gt;=0
                  
                  &nbsp;
                  
                  
               </td>
            </tr>
         </tbody>
      </table>
      <hr class="noprint">
      <table summary="link to TOC" class="noprint" style="margin-left: auto; margin-right: 0; float: right; width: 2.5em;">
         <tr>
            <td style="background-color: #990000; text-align: center; height: 1.5em;"><a href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
         </tr>
      </table>
      

   </body>
</html>